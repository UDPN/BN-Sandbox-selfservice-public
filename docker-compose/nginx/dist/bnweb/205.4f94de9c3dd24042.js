"use strict";(self.webpackChunkudpn_b=self.webpackChunkudpn_b||[]).push([[205],{4205:(zn,I,d)=>{d.r(I),d.d(I,{HomeModule:()=>pn});var A=d(9808),p=d(4521),y=d(4859),a=d(3075),g=d(8746),e=d(5e3),f=d(3640),Z=d(886),b=d(9727),m=d(1894),c=d(4546),E=d(7484),T=d(1047),C=d(8054),h=d(6042),Q=d(2643),_=d(2683),v=d(6045),z=d(8144);function B(t,o){1&t&&(e.ynx(0),e._uU(1,"Node Name is required!"),e.BQk())}function x(t,o){1&t&&(e.ynx(0),e._uU(1,"Node Name must start with a letter!"),e.BQk())}function U(t,o){if(1&t&&(e.YNc(0,B,2,0,"ng-container",45),e.YNc(1,x,2,0,"ng-container",45)),2&t){const n=o.$implicit;e.Q6J("ngIf",n.hasError("required")),e.xp6(1),e.Q6J("ngIf",n.hasError("regular"))}}function k(t,o){if(1&t&&e._UZ(0,"nz-option",46),2&t){const n=o.$implicit;e.Q6J("nzValue",n.value)("nzLabel",n.label)}}function D(t,o){1&t&&(e.ynx(0),e._uU(1,"Contact Name is required!"),e.BQk())}function F(t,o){1&t&&(e.ynx(0),e._uU(1,"Contact Name input format error!"),e.BQk())}function R(t,o){if(1&t&&(e.YNc(0,D,2,0,"ng-container",45),e.YNc(1,F,2,0,"ng-container",45)),2&t){const n=o.$implicit;e.Q6J("ngIf",n.hasError("required")),e.xp6(1),e.Q6J("ngIf",n.hasError("regular"))}}function L(t,o){1&t&&(e.ynx(0),e._uU(1,"Mobile Number is required!"),e.BQk())}function Y(t,o){1&t&&(e.ynx(0),e._uU(1,"Mobile Number input format error!"),e.BQk())}function P(t,o){if(1&t&&(e.YNc(0,L,2,0,"ng-container",45),e.YNc(1,Y,2,0,"ng-container",45)),2&t){const n=o.$implicit;e.Q6J("ngIf",n.hasError("required")),e.xp6(1),e.Q6J("ngIf",n.hasError("regular"))}}function O(t,o){1&t&&(e.ynx(0),e._uU(1,"Detailed Address is required!"),e.BQk())}function X(t,o){1&t&&(e.ynx(0),e._uU(1,"Detailed Address input format error!"),e.BQk())}function w(t,o){if(1&t&&(e.YNc(0,O,2,0,"ng-container",45),e.YNc(1,X,2,0,"ng-container",45)),2&t){const n=o.$implicit;e.Q6J("ngIf",n.hasError("required")),e.xp6(1),e.Q6J("ngIf",n.hasError("regular"))}}function M(t,o){1&t&&(e.TgZ(0,"button",47),e._uU(1,"Back"),e.qZA())}function K(t,o){if(1&t&&(e.TgZ(0,"button",48),e._uU(1,"Save"),e.qZA()),2&t){const n=e.oxw();e.Q6J("nzLoading",n.subLoading)}}let V=(()=>{class t{constructor(n,i,r,u,s){this.fb=n,this.modalService=i,this.bnOnboardingService=r,this.message=u,this.router=s,this.counter=0,this.verCodeStatus=!0,this.verCodeLoading=!1,this.subLoading=!1,this.verCodeStr="Get mailbox verification code",this.fileList=[],this.countryList=[],this.fileImg="",this.fallback="data:image/png;base64,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",this.connected="",this.region="",this.addrValidator=l=>l.value?/^[A-Za-z0-9 _]{1,200}$/.test(l.value)?(this.verCodeStatus=!1,{}):{regular:!0,error:!0}:{error:!0,required:!0},this.emailValidator=l=>l.value?/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/.test(l.value)?(this.verCodeStatus=!1,{}):{regular:!0,error:!0}:{error:!0,required:!0},this.phoneValidator=l=>l.value?/^[0-9]{1,20}$/.test(l.value)?{}:{regular:!0,error:!0}:{error:!0,required:!0},this.contactValidator=l=>l.value?/^[A-Za-z0-9]{1,50}$/.test(l.value)?{}:{regular:!0,error:!0}:{error:!0,required:!0},this.confirmValidator=l=>l.value?/^[a-zA-Z]+.*$/.test(l.value)?{}:{regular:!0,error:!0}:{error:!0,required:!0},this.urlValidator=l=>l.value?/^((https:\/\/)?([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])(:\d{0,5})(\/.*)?$/.test(l.value)?{}:{regular:!0,error:!0}:{error:!0,required:!0}}ngOnDestroy(){this.timer&&clearInterval(this.timer)}ngOnInit(){this.initPage(),this.validateForm=this.fb.group({udpnPeerName:[null,[a.kI.required,this.confirmValidator]],countryId:[null,[a.kI.required]],udpnPeerTitle:[null,[a.kI.required]],udpnPeerDesc:[null,[a.kI.required]],udpnDidDocument:[null,[a.kI.required]],nodeContact:[null,[a.kI.required,this.contactValidator]],nodePhone:[null,[this.phoneValidator]],nodeAddr:[null,[a.kI.required,this.addrValidator]],chainMemberLicense:[null,[a.kI.required]],nodeId:[null]})}initPage(){this.bnOnboardingService.countryList().subscribe(n=>{this.countryList=n.data;const i=[];this.countryList.map((r,u)=>{i.push({value:Number(r.countryId),label:r.enName})}),this.countryList=i}),this.bnOnboardingService.bnData().subscribe(n=>{0===n.code&&(this.connected=n.data.fromVn,this.region=n.data.connectedVnRegion,this.validateForm.get("udpnPeerName").setValue(n.data.udpnPeerName),this.validateForm.get("udpnPeerTitle").setValue(n.data.udpnPeerTitle),this.validateForm.get("udpnPeerDesc").setValue(n.data.udpnPeerDesc),this.validateForm.get("udpnDidDocument").setValue(n.data.memberNodeDidDoc),this.validateForm.get("nodeId").setValue(n.data.nodeId),this.validateForm.get("countryId").setValue(n.data.countryId),this.validateForm.get("nodeContact").setValue(n.data.nodeContact),this.validateForm.get("nodePhone").setValue(n.data.nodePhone),this.validateForm.get("nodeAddr").setValue(n.data.nodeAddr),this.validateForm.get("chainMemberLicense").setValue(n.data.nodeLicense),this.bnOnboardingService.imgDown({hash:n.data.nodeLicense}).subscribe(i=>{0===i.code&&(this.fileImg=`data:image/png;base64,${i.data}`)}))})}submitForm(){void 0===this.fileImgWord?this.validateForm.valid?(this.subLoading=!0,this.bnOnboardingService.bnBoardEdit(this.validateForm.value).pipe((0,g.x)(()=>this.subLoading=!1)).subscribe(n=>{0===n.code&&(this.message.success("save success !"),setTimeout(()=>{this.router.navigate(["/bn-home/home/info"])},2e3))})):Object.values(this.validateForm.controls).forEach(n=>{n.invalid&&(n.markAsDirty(),n.updateValueAndValidity({onlySelf:!0}))}):this.bnOnboardingService.uploadImg(this.fileImgWord).subscribe(n=>{0===n.code&&(console.log(n),this.validateForm.get("chainMemberLicense").setValue(n.data),console.log(this.validateForm.value),this.validateForm.valid?(this.subLoading=!0,this.bnOnboardingService.bnBoardEdit(this.validateForm.value).pipe((0,g.x)(()=>this.subLoading=!1)).subscribe(i=>{0===i.code&&(this.message.success("save success !"),setTimeout(()=>{this.router.navigate(["/"])},2e3))})):Object.values(this.validateForm.controls).forEach(i=>{i.invalid&&(i.markAsDirty(),i.updateValueAndValidity({onlySelf:!0}))}))})}uploadFile(n){"text/plain"===n.target.files[0].type?new Promise((r,u)=>{const s=new FileReader;s.onload=()=>{s.result?r(s.result.toString()):this.message.error("file content is empty!")},s.readAsText(n.target.files[0],"utf-8")}).then(r=>{if(this.isJSON(r)){var u=JSON.parse(r),s=JSON.stringify(u,void 0,4);this.validateForm.get("udpnDidDocument").setValue(s)}else this.message.error("File format error!")}):this.message.error("File format error!")}uploadFileImg(n){if(0===n.length)return;const i=new FileReader;i.readAsDataURL(n[0]),i.onload=()=>{this.fileImg=i.result,this.fileImgWord=n[0]}}isJSON(n){if("string"==typeof n){const i=JSON.parse(n);return!("object"!=typeof i||!i)}return!1}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(a.qu),e.Y36(f.Sf),e.Y36(Z.Z),e.Y36(b.dD),e.Y36(p.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-edit"]],decls:93,vars:65,consts:[["nz-row","",1,"inner-content"],["nz-col","","nzSpan","22","nzOffset","1"],["nz-form","",3,"formGroup","ngSubmit"],["nzTitle","Node Information",3,"nzBordered"],["nzFor","captcha",3,"nzSm","nzXs"],[3,"nzSm","nzXs"],["nz-row","",3,"nzGutter"],["nz-col","",1,"mt-1",3,"nzSpan"],["nz-col","",3,"nzSpan"],[1,"flex","justify-center","items-center"],["nzFor","captcha"],["nzRequired","",3,"nzSm","nzXs"],[3,"nzSm","nzXs","nzErrorTip"],["nz-input","","formControlName","udpnPeerName","placeholder","Node Name"],["passwordErrorTpl",""],["nzErrorTip","The Country or Region is required!",3,"nzSm","nzXs"],["formControlName","countryId","nzPlaceHolder","Country or Region"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],["nzErrorTip","The Brief Introduction is required!",3,"nzSm","nzXs"],["nz-input","","formControlName","udpnPeerTitle","placeholder","Brief Introduction"],["nzErrorTip","The Description is required!",3,"nzSm","nzXs"],["formControlName","udpnPeerDesc","nz-input","","rows","3","placeholder","Description"],["nz-button","","nzType","default","type","button",3,"click"],["type","file","accept",".txt","hidden","",3,"change"],["upFile",""],[1,"opacity-0",3,"nzSm","nzXs"],["nzErrorTip","The DID Document for the node is required!",3,"nzSm","nzXs"],["formControlName","udpnDidDocument","nz-input","","rows","18","placeholder","DID Document for the node","readonly",""],["nzTitle","Contact Information",3,"nzBordered"],[1,"mb-20"],["nz-input","","formControlName","nodeContact","placeholder","Contact Name"],["contactErrorTpl",""],["nz-input","","formControlName","nodePhone","placeholder","Mobile Number"],["phoneErrorTpl",""],["nz-input","","formControlName","nodeAddr","placeholder","Detailed Address"],["addrErrorTpl",""],["nzRequired","","nzFor","email",3,"nzSm","nzXs"],["nzErrorTip","The input is not valid E-mail!",3,"nzSm","nzXs"],["type","file","accept","image/png","hidden","",3,"change"],["upFiles",""],["nz-image","","width","200px","height","200px","alt","",3,"nzSrc","nzFallback"],["nz-row","",1,"register-area"],[3,"nzSpan","nzOffset"],["nz-button","","nzType","default","routerLink","/bn-home/home/info",4,"nzSpaceItem"],["nz-button","","nzType","primary",3,"nzLoading",4,"nzSpaceItem"],[4,"ngIf"],[3,"nzValue","nzLabel"],["nz-button","","nzType","default","routerLink","/bn-home/home/info"],["nz-button","","nzType","primary",3,"nzLoading"]],template:function(n,i){if(1&n){const r=e.EpF();e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"form",2),e.NdJ("ngSubmit",function(){return i.submitForm()}),e.TgZ(3,"nz-card",3),e.TgZ(4,"nz-form-item"),e.TgZ(5,"nz-form-label",4),e._uU(6," Select the Connected VN Node "),e.qZA(),e.TgZ(7,"nz-form-control",5),e.TgZ(8,"div",6),e.TgZ(9,"div",7),e.TgZ(10,"span"),e._uU(11),e.qZA(),e.qZA(),e.TgZ(12,"div",8),e.TgZ(13,"div",9),e.TgZ(14,"nz-form-label",10),e._uU(15," Region of connected VN Node "),e.qZA(),e.TgZ(16,"span"),e._uU(17),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(18,"nz-form-item"),e.TgZ(19,"nz-form-label",11),e._uU(20,"Node Name"),e.qZA(),e.TgZ(21,"nz-form-control",12),e._UZ(22,"input",13),e.YNc(23,U,2,2,"ng-template",null,14,e.W1O),e.qZA(),e.qZA(),e.TgZ(25,"nz-form-item"),e.TgZ(26,"nz-form-label",11),e._uU(27,"Country or Region"),e.qZA(),e.TgZ(28,"nz-form-control",15),e.TgZ(29,"nz-select",16),e.YNc(30,k,1,2,"nz-option",17),e.qZA(),e.qZA(),e.qZA(),e.TgZ(31,"nz-form-item"),e.TgZ(32,"nz-form-label",11),e._uU(33,"Brief Introduction"),e.qZA(),e.TgZ(34,"nz-form-control",18),e._UZ(35,"input",19),e.qZA(),e.qZA(),e.TgZ(36,"nz-form-item"),e.TgZ(37,"nz-form-label",11),e._uU(38,"Description"),e.qZA(),e.TgZ(39,"nz-form-control",20),e._UZ(40,"textarea",21),e.qZA(),e.qZA(),e.TgZ(41,"nz-form-item"),e.TgZ(42,"nz-form-label",11),e._uU(43,"DID Document for the node"),e.qZA(),e.TgZ(44,"nz-form-control",5),e.TgZ(45,"button",22),e.NdJ("click",function(){return e.CHM(r),e.MAs(48).click()}),e._uU(46,"Browse"),e.qZA(),e.TgZ(47,"input",23,24),e.NdJ("change",function(s){return i.uploadFile(s)}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(49,"nz-form-item"),e._UZ(50,"nz-form-label",25),e.TgZ(51,"nz-form-control",26),e._UZ(52,"textarea",27),e.qZA(),e.qZA(),e.qZA(),e.TgZ(53,"nz-card",28),e.TgZ(54,"div",29),e.TgZ(55,"nz-form-item"),e.TgZ(56,"nz-form-label",11),e._uU(57,"Contact Name"),e.qZA(),e.TgZ(58,"nz-form-control",12),e._UZ(59,"input",30),e.YNc(60,R,2,2,"ng-template",null,31,e.W1O),e.qZA(),e.qZA(),e.TgZ(62,"nz-form-item"),e.TgZ(63,"nz-form-label",11),e._uU(64,"Mobile Number"),e.qZA(),e.TgZ(65,"nz-form-control",12),e._UZ(66,"input",32),e.YNc(67,P,2,2,"ng-template",null,33,e.W1O),e.qZA(),e.qZA(),e.TgZ(69,"nz-form-item"),e.TgZ(70,"nz-form-label",11),e._uU(71,"Detailed Address"),e.qZA(),e.TgZ(72,"nz-form-control",12),e._UZ(73,"input",34),e.YNc(74,w,2,2,"ng-template",null,35,e.W1O),e.qZA(),e.qZA(),e.TgZ(76,"nz-form-item"),e.TgZ(77,"nz-form-label",36),e._uU(78,"Business License"),e.qZA(),e.TgZ(79,"nz-form-control",37),e.TgZ(80,"button",22),e.NdJ("click",function(){return e.CHM(r),e.MAs(83).click()}),e._uU(81,"Upload"),e.qZA(),e.TgZ(82,"input",38,39),e.NdJ("change",function(s){return i.uploadFileImg(s.target.files)}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(84,"nz-form-item"),e._UZ(85,"nz-form-label",25),e.TgZ(86,"nz-form-control",26),e._UZ(87,"img",40),e.qZA(),e.qZA(),e.TgZ(88,"nz-form-item",41),e.TgZ(89,"nz-form-control",42),e.TgZ(90,"nz-space"),e.YNc(91,M,2,0,"button",43),e.YNc(92,K,2,1,"button",44),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&n){const r=e.MAs(24),u=e.MAs(61),s=e.MAs(68),l=e.MAs(75);e.xp6(2),e.Q6J("formGroup",i.validateForm),e.xp6(1),e.Q6J("nzBordered",!1),e.xp6(2),e.Q6J("nzSm",6)("nzXs",24),e.xp6(2),e.Q6J("nzSm",14)("nzXs",24),e.xp6(1),e.Q6J("nzGutter",8),e.xp6(1),e.Q6J("nzSpan",12),e.xp6(2),e.Oqu(i.connected),e.xp6(1),e.Q6J("nzSpan",12),e.xp6(5),e.Oqu(i.region),e.xp6(2),e.Q6J("nzSm",6)("nzXs",24),e.xp6(2),e.Q6J("nzSm",14)("nzXs",24)("nzErrorTip",r),e.xp6(5),e.Q6J("nzSm",6)("nzXs",24),e.xp6(2),e.Q6J("nzSm",14)("nzXs",24),e.xp6(2),e.Q6J("ngForOf",i.countryList),e.xp6(2),e.Q6J("nzSm",6)("nzXs",24),e.xp6(2),e.Q6J("nzSm",14)("nzXs",24),e.xp6(3),e.Q6J("nzSm",6)("nzXs",24),e.xp6(2),e.Q6J("nzSm",14)("nzXs",24),e.xp6(3),e.Q6J("nzSm",6)("nzXs",24),e.xp6(2),e.Q6J("nzSm",14)("nzXs",24),e.xp6(6),e.Q6J("nzSm",6)("nzXs",24),e.xp6(1),e.Q6J("nzSm",14)("nzXs",24),e.xp6(2),e.Q6J("nzBordered",!1),e.xp6(3),e.Q6J("nzSm",6)("nzXs",24),e.xp6(2),e.Q6J("nzSm",14)("nzXs",24)("nzErrorTip",u),e.xp6(5),e.Q6J("nzSm",6)("nzXs",24),e.xp6(2),e.Q6J("nzSm",14)("nzXs",24)("nzErrorTip",s),e.xp6(5),e.Q6J("nzSm",6)("nzXs",24),e.xp6(2),e.Q6J("nzSm",14)("nzXs",24)("nzErrorTip",l),e.xp6(5),e.Q6J("nzSm",6)("nzXs",24),e.xp6(2),e.Q6J("nzSm",14)("nzXs",24),e.xp6(6),e.Q6J("nzSm",6)("nzXs",24),e.xp6(1),e.Q6J("nzSm",14)("nzXs",24),e.xp6(1),e.Q6J("nzSrc",i.fileImg)("nzFallback",i.fallback),e.xp6(2),e.Q6J("nzSpan",14)("nzOffset",6)}},directives:[m.SK,m.t3,a._Y,a.JL,c.Lr,a.sg,E.bd,c.Nx,c.iK,c.Fd,T.Zp,a.Fj,a.JJ,a.u,A.O5,C.Vq,A.sg,C.Ip,h.ix,Q.dQ,_.w,v.Ie,z.NU,z.$1,p.rH],styles:[""]}),t})();var S=d(939);function j(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td",4),e.NdJ("nzCheckedChange",function(r){const s=e.CHM(n).$implicit;return e.oxw().onItemChecked(s.id,r)}),e.qZA(),e.TgZ(2,"td"),e._uU(3),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.qZA(),e.qZA()}if(2&t){const n=o.$implicit,i=e.oxw();e.xp6(1),e.Q6J("nzChecked",i.setOfCheckedId.has(n.id)),e.xp6(2),e.Oqu(n.vnNodeName),e.xp6(2),e.Oqu(n.accessAddress),e.xp6(2),e.Oqu(n.vnInformation)}}function H(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"button",5),e.NdJ("click",function(){return e.CHM(n),e.oxw().destroyModal()}),e._uU(2,"Submit"),e.qZA(),e.qZA()}if(2&t){const n=e.oxw();e.xp6(1),e.Q6J("nzLoading",n.btLoading)}}let N=(()=>{class t{constructor(n,i){this.bnOnboardingService=n,this.modal=i,this.checked=!1,this.loading=!1,this.btLoading=!1,this.indeterminate=!1,this.listOfData=[],this.listOfCurrentPageData=[],this.setOfCheckedId=new Set}ngOnInit(){this.initPage()}initPage(){this.loading=!0,"init"===this.type&&this.bnOnboardingService.getStatusAndData({}).pipe((0,g.x)(()=>this.loading=!1)).subscribe(n=>{0===n.code&&(n.data.forEach((i,r)=>{i.id=r}),this.listOfData=n.data)}),"change"===this.type&&this.bnOnboardingService.bnBoardSwitchvn({}).pipe((0,g.x)(()=>this.loading=!1)).subscribe(n=>{0===n.code&&(n.data.forEach((i,r)=>{i.id=r}),this.listOfData=n.data)})}updateCheckedSet(n,i){this.setOfCheckedId.clear(),i?this.setOfCheckedId.add(n):this.setOfCheckedId.delete(n)}onItemChecked(n,i){this.updateCheckedSet(n,i)}destroyModal(){this.btLoading=!0,this.setOfCheckedId.forEach("change"===this.type?n=>{this.modal.destroy(this.listOfData[n])}:n=>{this.bnOnboardingService.bindID({vnId:this.listOfData[n].vnId}).pipe((0,g.x)(()=>this.btLoading=!1)).subscribe(i=>{0===i.code&&this.modal.destroy(this.listOfData[n])})})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(Z.Z),e.Y36(f.Lf))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-vn-list"]],inputs:{type:"type"},decls:14,vars:3,consts:[["nzShowPagination","","nzShowSizeChanger","",3,"nzData","nzLoading"],["rowSelectionTable",""],[4,"ngFor","ngForOf"],[4,"nzModalFooter"],[3,"nzChecked","nzCheckedChange"],["nz-button","","nzType","primary",3,"nzLoading","click"]],template:function(n,i){if(1&n&&(e.TgZ(0,"nz-table",0,1),e.TgZ(2,"thead"),e.TgZ(3,"tr"),e._UZ(4,"th"),e.TgZ(5,"th"),e._uU(6,"Node Name"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"Access Address"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"Brief Information"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(11,"tbody"),e.YNc(12,j,8,4,"tr",2),e.qZA(),e.qZA(),e.YNc(13,H,3,1,"div",3)),2&n){const r=e.MAs(1);e.Q6J("nzData",i.listOfData)("nzLoading",i.loading),e.xp6(12),e.Q6J("ngForOf",r.data)}},directives:[S.N8,S.Om,S.$Z,S.Uo,S._C,S.p0,A.sg,S.h7,f.Uh,h.ix,Q.dQ,_.w],styles:[""]}),t})();var q=d(3098),G=d(8671);function W(t,o){if(1&t&&(e.TgZ(0,"nz-descriptions-item",27),e._uU(1),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.hij(" ",n.infoData.nodeRepulseReason,"")}}function $(t,o){if(1&t&&(e.TgZ(0,"nz-descriptions-item",28),e._uU(1),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Oqu(n.infoData.applyExitedReason)}}function ee(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"button",31),e.NdJ("click",function(){return e.CHM(n),e.oxw(2).onEdit()}),e._uU(1,"Edit"),e.qZA()}}function ne(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"button",32),e.NdJ("click",function(){return e.CHM(n),e.oxw(2).onSubmit()}),e._uU(1,"Submit"),e.qZA()}if(2&t){const n=e.oxw(2);e.Q6J("nzLoading",n.isLoadingsub)}}function te(t,o){1&t&&(e.ynx(0),e.YNc(1,ee,2,0,"button",29),e.YNc(2,ne,2,1,"button",30),e.BQk())}function ie(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"button",31),e.NdJ("click",function(){return e.CHM(n),e.oxw(2).onReApply()}),e._uU(1,"Re-apply for Onboarding"),e.qZA()}}function oe(t,o){1&t&&(e.ynx(0),e.YNc(1,ie,2,0,"button",29),e.BQk())}function re(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"button",31),e.NdJ("click",function(){return e.CHM(n),e.oxw(2).onChangeVn()}),e._uU(1,"Switch VN Node"),e.qZA()}}function ae(t,o){1&t&&(e.ynx(0),e.YNc(1,re,2,0,"button",29),e.BQk())}const se=function(){return{minRows:2,maxRows:26}};let le=(()=>{class t{constructor(n,i,r,u){this.bnOnboardingService=n,this.router=i,this.modalService=r,this.message=u,this.fallback="data:image/png;base64,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",this.infoData={applyExitedReason:"",connectedVnNode:"",connectedVnRegion:"",countryId:0,createDate:"",didSignatureValue:"",fromVn:"",memberNodeDidDoc:"",nodeAddr:"",nodeContact:"",nodeCountryName:"",nodeId:"",nodeLicense:"",nodePhone:"",nodeRepulseReason:0,nodeUrl:"",state:1,udpnDid:"",udpnPeerDesc:"",udpnPeerName:"",udpnPeerNo:null,udpnPeerTitle:"",updateDate:"",vnNodeName:""},this.isLoadingsub=!1}ngOnInit(){this.bnOnboardingService.bnData().subscribe(n=>{0===n.code&&(this.nodeId=n.data.nodeId,this.infoData=n.data,this.bnOnboardingService.imgDown({hash:n.data.nodeLicense}).subscribe(i=>{0===i.code&&(this.infoData.nodeLicense=`data:image/png;base64,${i.data}`)}))})}onDown(){this.saveAs(this.infoData.memberNodeDidDoc,"key.txt",{})}saveAs(n,i,r){const u=n instanceof Blob||r;!i&&"string"==typeof n&&n.startsWith("http")&&(i=n.slice(n.lastIndexOf("/")+1)),i=decodeURIComponent(i||"download"),"string"==typeof n&&r&&(n=new Blob([n],r)),n instanceof Blob&&(n=URL.createObjectURL(n));const s=document.createElement("a");return s.setAttribute("href",n),s.setAttribute("download",i),s.click(),u&&setTimeout(()=>URL.revokeObjectURL(s.href),100),s}onEdit(){this.router.navigate(["/bn-home/home/edit"])}onChangeVn(){this.modalService.create({nzTitle:"Select the Connected VN Node",nzWidth:"60%",nzContent:N,nzComponentParams:{type:"change"}}).afterClose.subscribe(n=>{this.bnOnboardingService.switchvn({vnId:n.vnId}).subscribe(i=>{0===i.code&&(this.message.success("change success !"),setTimeout(()=>{this.router.navigate(["/bn-home/home/info"])},2e3))})})}onSubmit(){this.modalService.confirm({nzTitle:"Are you sure you want to submit this node ?",nzOnOk:()=>{this.isLoadingsub=!0,this.bnOnboardingService.bnDataSumit({nodeId:this.nodeId}).pipe((0,g.x)(()=>this.isLoadingsub=!1)).subscribe(n=>{0===n.code&&(this.message.success("Submit success !"),setTimeout(()=>{window.location.reload()},2e3))})}})}onReApply(){this.router.navigate(["/bn-home/home/reApply"])}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(Z.Z),e.Y36(p.F0),e.Y36(f.Sf),e.Y36(b.dD))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-info"]],decls:47,vars:34,consts:[["nz-row","",1,"inner-content"],["nz-col","","nzSpan","22","nzOffset","1"],["nzTitle","BN Node Onboarding",1,"mb-10",3,"nzBordered"],[1,"descriptions-info",3,"nzColumn","nzColon"],["nzTitle","Reason for repulsed","nzSpan","2",4,"ngIf"],["nzTitle","Reason for applying exit","nzSpan","2",4,"ngIf"],["nzTitle","Connected VN Node"],["nzTitle","Region of connected VN Node"],["nzTitle","Node Name"],["nzTitle","Creation Time"],["nzTitle","Update Time"],["nzTitle","Status"],["nzTitle","Country or Region"],["nzTitle","Contact Name"],["nzTitle","Mobile Number"],["nzTitle","Detailed Address"],["nzTitle","Node Code"],["nzTitle","Brief Introduction"],["nzTitle","Description"],["nzTitle","Business License","nzSpan","2"],["nz-image","","width","200px","height","200px","alt","",3,"nzSrc","nzFallback"],["nzTitle","DID Document for the node","nzSpan","2"],[1,"flex","justify-between","items-end","w-full"],["nz-input","","readonly","",3,"value","nzAutosize"],["nz-button","","nzType","link",3,"click"],[1,"w-full","text-right","pr-24","pb-10"],[4,"ngIf"],["nzTitle","Reason for repulsed","nzSpan","2"],["nzTitle","Reason for applying exit","nzSpan","2"],["nz-button","","nzType","primary",3,"click",4,"nzSpaceItem"],["nz-button","","nzType","default",3,"nzLoading","click",4,"nzSpaceItem"],["nz-button","","nzType","primary",3,"click"],["nz-button","","nzType","default",3,"nzLoading","click"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"nz-card",2),e.TgZ(3,"nz-descriptions",3),e.YNc(4,W,2,1,"nz-descriptions-item",4),e.YNc(5,$,2,1,"nz-descriptions-item",5),e.TgZ(6,"nz-descriptions-item",6),e._uU(7),e.qZA(),e.TgZ(8,"nz-descriptions-item",7),e._uU(9),e.qZA(),e.TgZ(10,"nz-descriptions-item",8),e._uU(11),e.qZA(),e.TgZ(12,"nz-descriptions-item",9),e._uU(13),e.ALo(14,"date"),e.qZA(),e.TgZ(15,"nz-descriptions-item",10),e._uU(16),e.ALo(17,"date"),e.qZA(),e.TgZ(18,"nz-descriptions-item",11),e._uU(19),e.ALo(20,"bnStatus"),e.qZA(),e.TgZ(21,"nz-descriptions-item",12),e._uU(22),e.qZA(),e.TgZ(23,"nz-descriptions-item",13),e._uU(24),e.qZA(),e.TgZ(25,"nz-descriptions-item",14),e._uU(26),e.qZA(),e.TgZ(27,"nz-descriptions-item",15),e._uU(28),e.qZA(),e.TgZ(29,"nz-descriptions-item",16),e._uU(30),e.qZA(),e.TgZ(31,"nz-descriptions-item",17),e._uU(32),e.qZA(),e.TgZ(33,"nz-descriptions-item",18),e._uU(34),e.qZA(),e.TgZ(35,"nz-descriptions-item",19),e._UZ(36,"img",20),e.qZA(),e.TgZ(37,"nz-descriptions-item",21),e.TgZ(38,"div",22),e._UZ(39,"textarea",23),e.TgZ(40,"a",24),e.NdJ("click",function(){return i.onDown()}),e._uU(41,"Download"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(42,"div",25),e.TgZ(43,"nz-space"),e.YNc(44,te,3,0,"ng-container",26),e.YNc(45,oe,2,0,"ng-container",26),e.YNc(46,ae,2,0,"ng-container",26),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&n&&(e.xp6(2),e.Q6J("nzBordered",!1),e.xp6(1),e.Q6J("nzColumn",2)("nzColon",!1),e.xp6(1),e.Q6J("ngIf",2010===i.infoData.state),e.xp6(1),e.Q6J("ngIf",4===i.infoData.state||5===i.infoData.state),e.xp6(2),e.Oqu(i.infoData.fromVn),e.xp6(2),e.hij("",i.infoData.connectedVnRegion," "),e.xp6(2),e.hij("",i.infoData.udpnPeerName," "),e.xp6(2),e.hij("",e.xi3(14,25,i.infoData.createDate,"yyyy-MM-dd H:mm:ss a z")," "),e.xp6(3),e.hij("",e.xi3(17,28,i.infoData.updateDate,"yyyy-MM-dd H:mm:ss a z")," "),e.xp6(3),e.hij(" ",e.lcZ(20,31,i.infoData.state)," "),e.xp6(3),e.hij(" ",i.infoData.nodeCountryName," "),e.xp6(2),e.Oqu(i.infoData.nodeContact),e.xp6(2),e.hij(" ",i.infoData.nodePhone," "),e.xp6(2),e.hij(" ",i.infoData.nodeAddr," "),e.xp6(2),e.hij(" ",i.infoData.udpnPeerNo," "),e.xp6(2),e.hij(" ",i.infoData.udpnPeerTitle," "),e.xp6(2),e.hij(" ",i.infoData.udpnPeerDesc," "),e.xp6(2),e.Q6J("nzSrc",i.infoData.nodeLicense)("nzFallback",i.fallback),e.xp6(3),e.Q6J("value",i.infoData.memberNodeDidDoc)("nzAutosize",e.DdM(33,se)),e.xp6(5),e.Q6J("ngIf",1===i.infoData.state||2010===i.infoData.state),e.xp6(1),e.Q6J("ngIf",6===i.infoData.state),e.xp6(1),e.Q6J("ngIf",3===i.infoData.state))},directives:[m.SK,m.t3,E.bd,q.R7,A.O5,q.uj,v.Ie,T.Zp,T.rh,h.ix,_.w,z.NU,z.$1,Q.dQ],pipes:[A.uU,G.f],styles:[""]}),t})(),ue=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-list"]],decls:2,vars:0,template:function(n,i){1&n&&(e.TgZ(0,"div"),e._uU(1,"\n2132\n"),e.qZA())},styles:[".inner-content[_ngcontent-%COMP%]{padding:24px;background:#fff;height:100%}.title-color[_ngcontent-%COMP%]{margin-left:5px;color:#3c5686}.dc-tool[_ngcontent-%COMP%]{color:#3c5686;line-height:40px}.box-container[_ngcontent-%COMP%]{padding-left:24px}.box-container[_ngcontent-%COMP%]   .home-button[_ngcontent-%COMP%]{margin-bottom:5rem}.box-container[_ngcontent-%COMP%]   .home-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:280px}.box-container[_ngcontent-%COMP%]   .home-list[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;margin-top:10px}.box-container[_ngcontent-%COMP%]   .home-img[_ngcontent-%COMP%]{margin-top:100px;height:700px}.box-container[_ngcontent-%COMP%]   .home-title[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}"]}),t})();var de=d(5737);function ce(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"div",6),e.TgZ(1,"div",7),e._uU(2,"BN Onboard Application"),e.qZA(),e.TgZ(3,"div",7),e._uU(4,"Add to a note"),e.qZA(),e._UZ(5,"nz-divider"),e.TgZ(6,"div",8),e.TgZ(7,"button",9),e.NdJ("click",function(){return e.CHM(n),e.oxw().onSelect(1)}),e._uU(8,"Select"),e.qZA(),e.qZA(),e.qZA()}}function ge(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"div",6),e.TgZ(1,"div",7),e._uU(2,"Continue BN onboarding(VN enrolled)"),e.qZA(),e.TgZ(3,"div",7),e._uU(4,"Embed in a document"),e.qZA(),e._UZ(5,"nz-divider"),e.TgZ(6,"div",8),e.TgZ(7,"button",9),e.NdJ("click",function(){return e.CHM(n),e.oxw().onSelect(2)}),e._uU(8,"Select"),e.qZA(),e.qZA(),e.qZA()}}let me=(()=>{class t{constructor(n){this.router=n}ngOnInit(){}onSelect(n){1===n?this.router.navigate(["/bn-home/home/registerBN"],{queryParams:{name:0}}):this.router.navigate(["/bn-home/home/signature"],{queryParams:{name:1}})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(p.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-pick"]],decls:7,vars:1,consts:[["nz-row","",1,"inner-content"],["nz-col","","nzSpan","22","nzOffset","1"],["nzTitle","Apply for Onboarding",3,"nzBordered"],[1,"flex","justify-center"],["nzSize","large"],["class","h-56 w-96  pt-9 rounded-md bg-gray-100",4,"nzSpaceItem"],[1,"h-56","w-96","pt-9","rounded-md","bg-gray-100"],[1,"text-center","text-xl"],[1,"text-center","mt-8"],["nz-button","","nzType","primary",3,"click"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"nz-card",2),e.TgZ(3,"div",3),e.TgZ(4,"nz-space",4),e.YNc(5,ce,9,0,"div",5),e.YNc(6,ge,9,0,"div",5),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&n&&(e.xp6(2),e.Q6J("nzBordered",!1))},directives:[m.SK,m.t3,E.bd,z.NU,z.$1,de.g,h.ix,Q.dQ,_.w],styles:[""]}),t})();function Ae(t,o){1&t&&(e.ynx(0),e._uU(1,"Node Name is required!"),e.BQk())}function pe(t,o){1&t&&(e.ynx(0),e._uU(1,"Node Name must start with a letter!"),e.BQk())}function ze(t,o){if(1&t&&(e.YNc(0,Ae,2,0,"ng-container",49),e.YNc(1,pe,2,0,"ng-container",49)),2&t){const n=o.$implicit;e.Q6J("ngIf",n.hasError("required")),e.xp6(1),e.Q6J("ngIf",n.hasError("regular"))}}function fe(t,o){if(1&t&&e._UZ(0,"nz-option",50),2&t){const n=o.$implicit;e.Q6J("nzValue",n.value)("nzLabel",n.label)}}function he(t,o){1&t&&(e.ynx(0),e._uU(1,"Contact Name is required!"),e.BQk())}function Qe(t,o){1&t&&(e.ynx(0),e._uU(1,"Contact Name input format error!"),e.BQk())}function _e(t,o){if(1&t&&(e.YNc(0,he,2,0,"ng-container",49),e.YNc(1,Qe,2,0,"ng-container",49)),2&t){const n=o.$implicit;e.Q6J("ngIf",n.hasError("required")),e.xp6(1),e.Q6J("ngIf",n.hasError("regular"))}}function Ze(t,o){1&t&&(e.ynx(0),e._uU(1,"Mobile Number is required!"),e.BQk())}function Ee(t,o){1&t&&(e.ynx(0),e._uU(1,"Mobile Number input format error!"),e.BQk())}function Te(t,o){if(1&t&&(e.YNc(0,Ze,2,0,"ng-container",49),e.YNc(1,Ee,2,0,"ng-container",49)),2&t){const n=o.$implicit;e.Q6J("ngIf",n.hasError("required")),e.xp6(1),e.Q6J("ngIf",n.hasError("regular"))}}function Se(t,o){1&t&&(e.ynx(0),e._uU(1,"Email is required!"),e.BQk())}function be(t,o){1&t&&(e.ynx(0),e._uU(1,"Email input format error!"),e.BQk())}function Ce(t,o){if(1&t&&(e.YNc(0,Se,2,0,"ng-container",49),e.YNc(1,be,2,0,"ng-container",49)),2&t){const n=o.$implicit;e.Q6J("ngIf",n.hasError("required")),e.xp6(1),e.Q6J("ngIf",n.hasError("regular"))}}function Ne(t,o){1&t&&(e.ynx(0),e._uU(1,"Detailed Address is required!"),e.BQk())}function ve(t,o){1&t&&(e.ynx(0),e._uU(1,"Detailed Address input format error!"),e.BQk())}function Je(t,o){if(1&t&&(e.YNc(0,Ne,2,0,"ng-container",49),e.YNc(1,ve,2,0,"ng-container",49)),2&t){const n=o.$implicit;e.Q6J("ngIf",n.hasError("required")),e.xp6(1),e.Q6J("ngIf",n.hasError("regular"))}}let Ie=(()=>{class t{constructor(n,i,r,u,s){this.fb=n,this.modalService=i,this.bnOnboardingService=r,this.message=u,this.router=s,this.counter=0,this.verCodeStatus=!0,this.verCodeLoading=!1,this.subLoading=!1,this.verCodeStr="Get mailbox verification code",this.fileList=[],this.nzValidateStatus="warning",this.countryList=[],this.fileImg="",this.fallback="data:image/png;base64,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",this.addrValidator=l=>l.value?/^[A-Za-z0-9 _]{1,200}$/.test(l.value)?(this.verCodeStatus=!1,{}):{regular:!0,error:!0}:{error:!0,required:!0},this.emailValidator=l=>l.value?/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/.test(l.value)?(this.verCodeStatus=!1,{}):{regular:!0,error:!0}:{error:!0,required:!0},this.phoneValidator=l=>l.value?/^[0-9]{1,20}$/.test(l.value)?{}:{regular:!0,error:!0}:{error:!0,required:!0},this.contactValidator=l=>l.value?/^[A-Za-z0-9]{1,50}$/.test(l.value)?{}:{regular:!0,error:!0}:{error:!0,required:!0},this.confirmValidator=l=>l.value?/^[a-zA-Z]+.*$/.test(l.value)?{}:{regular:!0,error:!0}:{error:!0,required:!0},this.urlValidator=l=>l.value?/^((https:\/\/)?([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])(:\d{0,5})(\/.*)?$/.test(l.value)?{}:{regular:!0,error:!0}:{error:!0,required:!0}}ngOnDestroy(){this.timer&&clearInterval(this.timer)}ngOnInit(){this.initPage(),this.validateForm=this.fb.group({udpnPeerNameTag:[null,[a.kI.required]],udpnPeerNameValue:[null,[a.kI.required]],udpnPeerName:[null,[a.kI.required,this.confirmValidator]],countryId:[null,[a.kI.required]],udpnPeerTitle:[null,[a.kI.required]],udpnPeerDesc:[null,[a.kI.required]],udpnDidDocument:[null,[a.kI.required]],nodeContact:[null,[a.kI.required,this.contactValidator]],nodePhone:[null,[this.phoneValidator]],udpnPeerEmail:[null,[a.kI.required,this.emailValidator]],verifyCode:[null,[a.kI.required]],nodeAddr:[null,[a.kI.required,this.addrValidator]],chainMemberLicense:[null,[a.kI.required]]})}initPage(){this.bnOnboardingService.countryList().subscribe(n=>{this.countryList=n.data;const i=[];this.countryList.map((r,u)=>{i.push({value:Number(r.countryId),label:r.enName})}),this.countryList=i}),this.bnOnboardingService.bnBoardVerify().subscribe(n=>{n.data.excessTime>0&&this.counterSet(n.data.excessTime)})}onSelect(){this.modalService.create({nzTitle:"Select the Connected VN Node",nzWidth:"60%",nzContent:N,nzComponentParams:{type:"init"}}).afterClose.subscribe(n=>{this.validateForm.get("udpnPeerNameTag").setValue(n.vnNodeName),this.nzValidateStatus="success",this.validateForm.get("udpnPeerNameValue").setValue(n.vnId)})}onSendMail(){this.bnOnboardingService.bnBoardVerify().subscribe(n=>{n.data.excessTime>0?this.counterSet(n.data.excessTime):(this.verCodeLoading=!0,this.bnOnboardingService.bnBoardSend({toEmail:this.validateForm.get("udpnPeerEmail").value}).pipe((0,g.x)(()=>this.verCodeLoading=!1)).subscribe(i=>{0===i.code&&this.counterSet(180)}))})}submitForm(){this.bnOnboardingService.uploadImg(this.fileImgWord).subscribe(n=>{if(0===n.code)if(this.validateForm.get("chainMemberLicense").setValue(n.data),this.validateForm.valid){this.subLoading=!0;const i={udpnDidDocument:this.validateForm.get("udpnDidDocument").value,udpnPeerDesc:this.validateForm.get("udpnPeerDesc").value,udpnPeerName:this.validateForm.get("udpnPeerName").value,udpnPeerTitle:this.validateForm.get("udpnPeerTitle").value,bnEmailCode:this.validateForm.get("verifyCode").value,nodeUrl:"https://127.0.0.1:8081",countryId:this.validateForm.get("countryId").value,nodeLicense:this.validateForm.get("chainMemberLicense").value,nodePhone:this.validateForm.get("nodePhone").value,nodeEmail:this.validateForm.get("udpnPeerEmail").value,nodeContact:this.validateForm.get("nodeContact").value,nodeAddr:this.validateForm.get("nodeAddr").value};this.bnOnboardingService.bnBoarRedSave(i).pipe((0,g.x)(()=>this.subLoading=!1)).subscribe(r=>{0===r.code&&(this.message.success("reApply success !"),setTimeout(()=>{this.router.navigate(["/"])},2e3))})}else Object.values(this.validateForm.controls).forEach(i=>{i.invalid&&(i.markAsDirty(),i.updateValueAndValidity({onlySelf:!0}))})})}uploadFile(n){"text/plain"===n.target.files[0].type?new Promise((r,u)=>{const s=new FileReader;s.onload=()=>{s.result?r(s.result.toString()):this.message.error("file content is empty!")},s.readAsText(n.target.files[0],"utf-8")}).then(r=>{if(this.isJSON(r)){var u=JSON.parse(r),s=JSON.stringify(u,void 0,4);this.validateForm.get("udpnDidDocument").setValue(s)}else this.message.error("File format error!")}):this.message.error("File format error!")}uploadFileImg(n){if(0===n.length)return;const i=new FileReader;i.readAsDataURL(n[0]),i.onload=()=>{this.fileImg=i.result,this.fileImgWord=n[0]}}isJSON(n){if("string"==typeof n){const i=JSON.parse(n);return!("object"!=typeof i||!i)}return!1}counterSet(n){this.counter=n,console.log(this.counter),null!==typeof n&&(this.timer=setInterval(()=>{if(0===n)return this.counter=0,this.verCodeStr="Get mailbox verification code",this.verCodeStatus=""===this.validateForm.get("udpnPeerEmail").value,void clearInterval(this.timer);const i=n--;this.counter=i,this.verCodeStr=`Regain mailbox verification code( ${this.counter} S )`,this.verCodeStatus=!0},1e3))}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(a.qu),e.Y36(f.Sf),e.Y36(Z.Z),e.Y36(b.dD),e.Y36(p.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-re-apply"]],decls:105,vars:80,consts:[["nz-row","",1,"inner-content"],["nz-col","","nzSpan","22","nzOffset","1"],["nz-form","",3,"formGroup","ngSubmit"],["nzTitle","Node Information",3,"nzBordered"],["nzFor","captcha","nzRequired","",3,"nzSm","nzXs"],["nzWarningTip","Select the Connected VN Node is required.",3,"nzSm","nzXs","nzValidateStatus"],["nz-row","",3,"nzGutter"],["nz-col","",3,"nzSpan"],["nz-input","","id","captcha","placeholder","Select the Connected VN Node","formControlName","udpnPeerNameTag"],["nz-button","","type","button",3,"click"],["nzRequired","",3,"nzSm","nzXs"],[3,"nzSm","nzXs","nzErrorTip"],["nz-input","","formControlName","udpnPeerName","placeholder","Node Name"],["passwordErrorTpl",""],["nzErrorTip","The Country or Region is required!",3,"nzSm","nzXs"],["formControlName","countryId","nzPlaceHolder","Country or Region"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],["nzErrorTip","The Brief Introduction is required!",3,"nzSm","nzXs"],["nz-input","","formControlName","udpnPeerTitle","placeholder","Brief Introduction"],["nzErrorTip","The Description is required!",3,"nzSm","nzXs"],["formControlName","udpnPeerDesc","nz-input","","rows","3","placeholder","Description"],[3,"nzSm","nzXs"],["nz-button","","nzType","default","type","button",3,"click"],["type","file","accept",".txt","hidden","",3,"change"],["upFile",""],[1,"opacity-0",3,"nzSm","nzXs"],["nzErrorTip","The DID Document for the node is required!",3,"nzSm","nzXs"],["formControlName","udpnDidDocument","nz-input","","rows","18","placeholder","DID Document for the node","readonly",""],["nzTitle","Contact Information",3,"nzBordered"],[1,"mb-20"],["nz-input","","formControlName","nodeContact","placeholder","Contact Name"],["contactErrorTpl",""],["nz-input","","formControlName","nodePhone","placeholder","Mobile Number"],["phoneErrorTpl",""],["nz-input","","formControlName","udpnPeerEmail","placeholder","Email"],["emailErrorTpl",""],["nzErrorTip","Please input the captcha you got!",3,"nzSm","nzXs"],["nz-input","","id","captcha","formControlName","verifyCode","placeholder","Verification Code"],["type","button","nz-button","",3,"disabled","nzLoading","click"],["nz-input","","formControlName","nodeAddr","placeholder","Detailed Address"],["addrErrorTpl",""],["nzRequired","","nzFor","email",3,"nzSm","nzXs"],["nzErrorTip","The input is not valid E-mail!",3,"nzSm","nzXs"],["type","file","accept","image/png","hidden","",3,"change"],["upFiles",""],["nz-image","","width","200px","height","200px","alt","",3,"nzSrc","nzFallback"],["nz-row","",1,"register-area"],[3,"nzSpan","nzOffset"],["nz-button","","nzType","primary",3,"nzLoading"],[4,"ngIf"],[3,"nzValue","nzLabel"]],template:function(n,i){if(1&n){const r=e.EpF();e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"form",2),e.NdJ("ngSubmit",function(){return i.submitForm()}),e.TgZ(3,"nz-card",3),e.TgZ(4,"nz-form-item"),e.TgZ(5,"nz-form-label",4),e._uU(6," Select the Connected VN Node "),e.qZA(),e.TgZ(7,"nz-form-control",5),e.TgZ(8,"div",6),e.TgZ(9,"div",7),e._UZ(10,"input",8),e.qZA(),e.TgZ(11,"div",7),e.TgZ(12,"button",9),e.NdJ("click",function(){return i.onSelect()}),e._uU(13,"Select"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(14,"nz-form-item"),e.TgZ(15,"nz-form-label",10),e._uU(16,"Node Name"),e.qZA(),e.TgZ(17,"nz-form-control",11),e._UZ(18,"input",12),e.YNc(19,ze,2,2,"ng-template",null,13,e.W1O),e.qZA(),e.qZA(),e.TgZ(21,"nz-form-item"),e.TgZ(22,"nz-form-label",10),e._uU(23,"Country or Region"),e.qZA(),e.TgZ(24,"nz-form-control",14),e.TgZ(25,"nz-select",15),e.YNc(26,fe,1,2,"nz-option",16),e.qZA(),e.qZA(),e.qZA(),e.TgZ(27,"nz-form-item"),e.TgZ(28,"nz-form-label",10),e._uU(29,"Brief Introduction"),e.qZA(),e.TgZ(30,"nz-form-control",17),e._UZ(31,"input",18),e.qZA(),e.qZA(),e.TgZ(32,"nz-form-item"),e.TgZ(33,"nz-form-label",10),e._uU(34,"Description"),e.qZA(),e.TgZ(35,"nz-form-control",19),e._UZ(36,"textarea",20),e.qZA(),e.qZA(),e.TgZ(37,"nz-form-item"),e.TgZ(38,"nz-form-label",10),e._uU(39,"DID Document for the node"),e.qZA(),e.TgZ(40,"nz-form-control",21),e.TgZ(41,"button",22),e.NdJ("click",function(){return e.CHM(r),e.MAs(44).click()}),e._uU(42,"Browse"),e.qZA(),e.TgZ(43,"input",23,24),e.NdJ("change",function(s){return i.uploadFile(s)}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(45,"nz-form-item"),e._UZ(46,"nz-form-label",25),e.TgZ(47,"nz-form-control",26),e._UZ(48,"textarea",27),e.qZA(),e.qZA(),e.qZA(),e.TgZ(49,"nz-card",28),e.TgZ(50,"div",29),e.TgZ(51,"nz-form-item"),e.TgZ(52,"nz-form-label",10),e._uU(53,"Contact Name"),e.qZA(),e.TgZ(54,"nz-form-control",11),e._UZ(55,"input",30),e.YNc(56,_e,2,2,"ng-template",null,31,e.W1O),e.qZA(),e.qZA(),e.TgZ(58,"nz-form-item"),e.TgZ(59,"nz-form-label",10),e._uU(60,"Mobile Number"),e.qZA(),e.TgZ(61,"nz-form-control",11),e._UZ(62,"input",32),e.YNc(63,Te,2,2,"ng-template",null,33,e.W1O),e.qZA(),e.qZA(),e.TgZ(65,"nz-form-item"),e.TgZ(66,"nz-form-label",10),e._uU(67,"Email"),e.qZA(),e.TgZ(68,"nz-form-control",11),e._UZ(69,"input",34),e.YNc(70,Ce,2,2,"ng-template",null,35,e.W1O),e.qZA(),e.qZA(),e.TgZ(72,"nz-form-item"),e.TgZ(73,"nz-form-label",4),e._uU(74," Verification Code "),e.qZA(),e.TgZ(75,"nz-form-control",36),e.TgZ(76,"div",6),e.TgZ(77,"div",7),e._UZ(78,"input",37),e.qZA(),e.TgZ(79,"div",7),e.TgZ(80,"button",38),e.NdJ("click",function(){return i.onSendMail()}),e._uU(81),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(82,"nz-form-item"),e.TgZ(83,"nz-form-label",10),e._uU(84,"Detailed Address"),e.qZA(),e.TgZ(85,"nz-form-control",11),e._UZ(86,"input",39),e.YNc(87,Je,2,2,"ng-template",null,40,e.W1O),e.qZA(),e.qZA(),e.TgZ(89,"nz-form-item"),e.TgZ(90,"nz-form-label",41),e._uU(91,"Business License"),e.qZA(),e.TgZ(92,"nz-form-control",42),e.TgZ(93,"button",22),e.NdJ("click",function(){return e.CHM(r),e.MAs(96).click()}),e._uU(94,"Upload"),e.qZA(),e.TgZ(95,"input",43,44),e.NdJ("change",function(s){return i.uploadFileImg(s.target.files)}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(97,"nz-form-item"),e._UZ(98,"nz-form-label",25),e.TgZ(99,"nz-form-control",26),e._UZ(100,"img",45),e.qZA(),e.qZA(),e.TgZ(101,"nz-form-item",46),e.TgZ(102,"nz-form-control",47),e.TgZ(103,"button",48),e._uU(104,"Save"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&n){const r=e.MAs(20),u=e.MAs(57),s=e.MAs(64),l=e.MAs(71),J=e.MAs(88);e.xp6(2),e.Q6J("formGroup",i.validateForm),e.xp6(1),e.Q6J("nzBordered",!1),e.xp6(2),e.Q6J("nzSm",6)("nzXs",24),e.xp6(2),e.Q6J("nzSm",14)("nzXs",24)("nzValidateStatus",i.nzValidateStatus),e.xp6(1),e.Q6J("nzGutter",8),e.xp6(1),e.Q6J("nzSpan",12),e.xp6(2),e.Q6J("nzSpan",12),e.xp6(4),e.Q6J("nzSm",6)("nzXs",24),e.xp6(2),e.Q6J("nzSm",14)("nzXs",24)("nzErrorTip",r),e.xp6(5),e.Q6J("nzSm",6)("nzXs",24),e.xp6(2),e.Q6J("nzSm",14)("nzXs",24),e.xp6(2),e.Q6J("ngForOf",i.countryList),e.xp6(2),e.Q6J("nzSm",6)("nzXs",24),e.xp6(2),e.Q6J("nzSm",14)("nzXs",24),e.xp6(3),e.Q6J("nzSm",6)("nzXs",24),e.xp6(2),e.Q6J("nzSm",14)("nzXs",24),e.xp6(3),e.Q6J("nzSm",6)("nzXs",24),e.xp6(2),e.Q6J("nzSm",14)("nzXs",24),e.xp6(6),e.Q6J("nzSm",6)("nzXs",24),e.xp6(1),e.Q6J("nzSm",14)("nzXs",24),e.xp6(2),e.Q6J("nzBordered",!1),e.xp6(3),e.Q6J("nzSm",6)("nzXs",24),e.xp6(2),e.Q6J("nzSm",14)("nzXs",24)("nzErrorTip",u),e.xp6(5),e.Q6J("nzSm",6)("nzXs",24),e.xp6(2),e.Q6J("nzSm",14)("nzXs",24)("nzErrorTip",s),e.xp6(5),e.Q6J("nzSm",6)("nzXs",24),e.xp6(2),e.Q6J("nzSm",14)("nzXs",24)("nzErrorTip",l),e.xp6(5),e.Q6J("nzSm",6)("nzXs",24),e.xp6(2),e.Q6J("nzSm",14)("nzXs",24),e.xp6(1),e.Q6J("nzGutter",8),e.xp6(1),e.Q6J("nzSpan",12),e.xp6(2),e.Q6J("nzSpan",12),e.xp6(1),e.Q6J("disabled",i.verCodeStatus)("nzLoading",i.verCodeLoading),e.xp6(1),e.Oqu(i.verCodeStr),e.xp6(2),e.Q6J("nzSm",6)("nzXs",24),e.xp6(2),e.Q6J("nzSm",14)("nzXs",24)("nzErrorTip",J),e.xp6(5),e.Q6J("nzSm",6)("nzXs",24),e.xp6(2),e.Q6J("nzSm",14)("nzXs",24),e.xp6(6),e.Q6J("nzSm",6)("nzXs",24),e.xp6(1),e.Q6J("nzSm",14)("nzXs",24),e.xp6(1),e.Q6J("nzSrc",i.fileImg)("nzFallback",i.fallback),e.xp6(2),e.Q6J("nzSpan",14)("nzOffset",6),e.xp6(1),e.Q6J("nzLoading",i.subLoading)}},directives:[m.SK,m.t3,a._Y,a.JL,c.Lr,a.sg,E.bd,c.Nx,c.iK,c.Fd,T.Zp,a.Fj,a.JJ,a.u,h.ix,Q.dQ,_.w,A.O5,C.Vq,A.sg,C.Ip,v.Ie],styles:[""]}),t})();function qe(t,o){1&t&&(e.ynx(0),e._uU(1,"DID is required!"),e.BQk())}function ye(t,o){1&t&&e.YNc(0,qe,2,0,"ng-container",20),2&t&&e.Q6J("ngIf",o.$implicit.hasError("required"))}function Be(t,o){1&t&&(e.ynx(0),e._uU(1,"Did Signature Value is required!"),e.BQk())}function xe(t,o){1&t&&e.YNc(0,Be,2,0,"ng-container",20),2&t&&e.Q6J("ngIf",o.$implicit.hasError("required"))}function Ue(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"button",21),e.NdJ("click",function(){return e.CHM(n),e.oxw().onSave()}),e._uU(1,"Save"),e.qZA()}if(2&t){const n=e.oxw();e.Q6J("nzLoading",n.savLoading)}}function ke(t,o){if(1&t&&(e.TgZ(0,"button",22),e._uU(1,"Submit"),e.qZA()),2&t){const n=e.oxw();e.Q6J("nzLoading",n.subLoading)}}let De=(()=>{class t{constructor(n,i,r,u,s){this.fb=n,this.modalService=i,this.bnOnboardingService=r,this.message=u,this.router=s,this.counter=0,this.verCodeStatus=!0,this.verCodeLoading=!1,this.subLoading=!1,this.savLoading=!1,this.fileList=[],this.nzValidateStatus="success"}ngOnDestroy(){this.timer&&clearInterval(this.timer)}ngOnInit(){this.initPage(),this.validateForm=this.fb.group({udpnPeerNameTag:[null,[a.kI.required]],did:[null,[a.kI.required]],didSignatureValue:[null,[a.kI.required]]})}initPage(){}onSelect(){this.modalService.create({nzTitle:"Select the Connected VN Node",nzWidth:"60%",nzContent:N,nzComponentParams:{type:"init"}}).afterClose.subscribe(n=>{"{}"!==JSON.stringify(n)&&(this.validateForm.get("udpnPeerNameTag").setValue(n.vnNodeName),this.nzValidateStatus="success")})}onSave(){const n={did:this.validateForm.get("did").value,didSignatureValue:this.validateForm.get("didSignatureValue").value};this.modalService.confirm({nzTitle:"<i>Are you sure you want to save?</i>",nzOnOk:()=>{this.savLoading=!0,this.bnOnboardingService.bnSignSave(n).pipe((0,g.x)(()=>this.savLoading=!1)).subscribe(i=>{0===i.code&&(this.message.success("save success !"),setTimeout(()=>{this.router.navigate(["/bn-home/home/signature"])},2e3))})}})}submitForm(){const n={did:this.validateForm.get("did").value,didSignatureValue:this.validateForm.get("didSignatureValue").value};this.modalService.confirm({nzTitle:"<i>Are you sure you want to Submit?</i>",nzOnOk:()=>{this.savLoading=!0,this.bnOnboardingService.bnSignSubmit(n).pipe((0,g.x)(()=>this.savLoading=!1)).subscribe(i=>{0===i.code&&(this.message.success("subnit success !"),setTimeout(()=>{this.router.navigate(["/bn-home"])},2e3))})}})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(a.qu),e.Y36(f.Sf),e.Y36(Z.Z),e.Y36(b.dD),e.Y36(p.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-register-signature"]],decls:33,vars:22,consts:[["nz-row","",1,"inner-content"],["nz-col","","nzSpan","22","nzOffset","1"],["nz-form","",3,"formGroup","ngSubmit"],["nzTitle","Node Information",3,"nzBordered"],["nzFor","captcha","nzRequired","",3,"nzSm","nzXs"],["nzWarningTip","Select the Connected VN Node is required.",3,"nzSm","nzXs","nzValidateStatus"],["nz-row","",3,"nzGutter"],["nz-col","",3,"nzSpan"],["nz-input","","id","captcha","placeholder","Select the Connected VN Node","formControlName","udpnPeerNameTag"],["nz-button","","type","button",3,"click"],["nzRequired","",3,"nzSm","nzXs"],[3,"nzSm","nzXs","nzErrorTip"],["nz-input","","formControlName","did","placeholder","DID"],["passwordErrorTpl",""],["nz-input","","formControlName","didSignatureValue","placeholder","Did Signature Value"],["gatewayErrorTpl",""],["nz-row","",1,"register-area"],[3,"nzSpan","nzOffset"],["nz-button","","nzType","default","type","button",3,"nzLoading","click",4,"nzSpaceItem"],["nz-button","","nzType","primary",3,"nzLoading",4,"nzSpaceItem"],[4,"ngIf"],["nz-button","","nzType","default","type","button",3,"nzLoading","click"],["nz-button","","nzType","primary",3,"nzLoading"]],template:function(n,i){if(1&n&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"form",2),e.NdJ("ngSubmit",function(){return i.submitForm()}),e.TgZ(3,"nz-card",3),e.TgZ(4,"nz-form-item"),e.TgZ(5,"nz-form-label",4),e._uU(6," Select the Connected VN Node "),e.qZA(),e.TgZ(7,"nz-form-control",5),e.TgZ(8,"div",6),e.TgZ(9,"div",7),e._UZ(10,"input",8),e.qZA(),e.TgZ(11,"div",7),e.TgZ(12,"button",9),e.NdJ("click",function(){return i.onSelect()}),e._uU(13,"Select"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(14,"nz-form-item"),e.TgZ(15,"nz-form-label",10),e._uU(16,"DID"),e.qZA(),e.TgZ(17,"nz-form-control",11),e._UZ(18,"input",12),e.YNc(19,ye,1,1,"ng-template",null,13,e.W1O),e.qZA(),e.qZA(),e.TgZ(21,"nz-form-item"),e.TgZ(22,"nz-form-label",10),e._uU(23,"Did Signature Value"),e.qZA(),e.TgZ(24,"nz-form-control",11),e._UZ(25,"input",14),e.YNc(26,xe,1,1,"ng-template",null,15,e.W1O),e.qZA(),e.qZA(),e.TgZ(28,"nz-form-item",16),e.TgZ(29,"nz-form-control",17),e.TgZ(30,"nz-space"),e.YNc(31,Ue,2,1,"button",18),e.YNc(32,ke,2,1,"button",19),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&n){const r=e.MAs(20),u=e.MAs(27);e.xp6(2),e.Q6J("formGroup",i.validateForm),e.xp6(1),e.Q6J("nzBordered",!1),e.xp6(2),e.Q6J("nzSm",6)("nzXs",24),e.xp6(2),e.Q6J("nzSm",14)("nzXs",24)("nzValidateStatus",i.nzValidateStatus),e.xp6(1),e.Q6J("nzGutter",8),e.xp6(1),e.Q6J("nzSpan",12),e.xp6(2),e.Q6J("nzSpan",12),e.xp6(4),e.Q6J("nzSm",6)("nzXs",24),e.xp6(2),e.Q6J("nzSm",14)("nzXs",24)("nzErrorTip",r),e.xp6(5),e.Q6J("nzSm",6)("nzXs",24),e.xp6(2),e.Q6J("nzSm",14)("nzXs",24)("nzErrorTip",u),e.xp6(5),e.Q6J("nzSpan",14)("nzOffset",6)}},directives:[m.SK,m.t3,a._Y,a.JL,c.Lr,a.sg,E.bd,c.Nx,c.iK,c.Fd,T.Zp,a.Fj,a.JJ,a.u,h.ix,Q.dQ,_.w,A.O5,z.NU,z.$1],styles:[""]}),t})();function Fe(t,o){1&t&&(e.ynx(0),e._uU(1,"Node Name is required!"),e.BQk())}function Re(t,o){1&t&&(e.ynx(0),e._uU(1,"Node Name must start with a letter!"),e.BQk())}function Le(t,o){if(1&t&&(e.YNc(0,Fe,2,0,"ng-container",49),e.YNc(1,Re,2,0,"ng-container",49)),2&t){const n=o.$implicit;e.Q6J("ngIf",n.hasError("required")),e.xp6(1),e.Q6J("ngIf",n.hasError("regular"))}}function Ye(t,o){if(1&t&&e._UZ(0,"nz-option",50),2&t){const n=o.$implicit;e.Q6J("nzValue",n.value)("nzLabel",n.label)}}function Pe(t,o){1&t&&(e.ynx(0),e._uU(1,"Contact Name is required!"),e.BQk())}function Oe(t,o){1&t&&(e.ynx(0),e._uU(1,"Contact Name input format error!"),e.BQk())}function Xe(t,o){if(1&t&&(e.YNc(0,Pe,2,0,"ng-container",49),e.YNc(1,Oe,2,0,"ng-container",49)),2&t){const n=o.$implicit;e.Q6J("ngIf",n.hasError("required")),e.xp6(1),e.Q6J("ngIf",n.hasError("regular"))}}function we(t,o){1&t&&(e.ynx(0),e._uU(1,"Mobile Number is required!"),e.BQk())}function Me(t,o){1&t&&(e.ynx(0),e._uU(1,"Mobile Number input format error!"),e.BQk())}function Ke(t,o){if(1&t&&(e.YNc(0,we,2,0,"ng-container",49),e.YNc(1,Me,2,0,"ng-container",49)),2&t){const n=o.$implicit;e.Q6J("ngIf",n.hasError("required")),e.xp6(1),e.Q6J("ngIf",n.hasError("regular"))}}function Ve(t,o){1&t&&(e.ynx(0),e._uU(1,"Email is required!"),e.BQk())}function je(t,o){1&t&&(e.ynx(0),e._uU(1,"Email input format error!"),e.BQk())}function He(t,o){if(1&t&&(e.YNc(0,Ve,2,0,"ng-container",49),e.YNc(1,je,2,0,"ng-container",49)),2&t){const n=o.$implicit;e.Q6J("ngIf",n.hasError("required")),e.xp6(1),e.Q6J("ngIf",n.hasError("regular"))}}function Ge(t,o){1&t&&(e.ynx(0),e._uU(1,"Detailed Address is required!"),e.BQk())}function We(t,o){1&t&&(e.ynx(0),e._uU(1,"Detailed Address input format error!"),e.BQk())}function $e(t,o){if(1&t&&(e.YNc(0,Ge,2,0,"ng-container",49),e.YNc(1,We,2,0,"ng-container",49)),2&t){const n=o.$implicit;e.Q6J("ngIf",n.hasError("required")),e.xp6(1),e.Q6J("ngIf",n.hasError("regular"))}}function nn(t,o){1&t&&(e.ynx(0),e._uU(1,"DID is required!"),e.BQk())}function tn(t,o){1&t&&e.YNc(0,nn,2,0,"ng-container",18),2&t&&e.Q6J("ngIf",o.$implicit.hasError("required"))}function on(t,o){1&t&&(e.ynx(0),e._uU(1,"Did Signature Value is required!"),e.BQk())}function rn(t,o){1&t&&e.YNc(0,on,2,0,"ng-container",18),2&t&&e.Q6J("ngIf",o.$implicit.hasError("required"))}function an(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"button",21),e.NdJ("click",function(){return e.CHM(n),e.oxw(2).onchange()}),e._uU(1,"Edit"),e.qZA()}}function sn(t,o){1&t&&(e.ynx(0),e.YNc(1,an,2,0,"button",20),e.BQk())}function ln(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"button",23),e.NdJ("click",function(){return e.CHM(n),e.oxw(2).onSave()}),e._uU(1,"Save"),e.qZA()}if(2&t){const n=e.oxw(2);e.Q6J("nzLoading",n.savLoading)}}function un(t,o){1&t&&(e.ynx(0),e.YNc(1,ln,2,1,"button",22),e.BQk())}function dn(t,o){if(1&t&&(e.TgZ(0,"button",24),e._uU(1,"Submit"),e.qZA()),2&t){const n=e.oxw();e.Q6J("nzLoading",n.subLoading)}}const gn=[{path:"",redirectTo:"registerBN",pathMatch:"full"},{path:"concept",component:ue},{path:"pick",component:me},{path:"registerBN",component:(()=>{class t{constructor(n,i,r,u,s){this.fb=n,this.modalService=i,this.bnOnboardingService=r,this.message=u,this.router=s,this.counter=0,this.verCodeStatus=!0,this.verCodeLoading=!1,this.subLoading=!1,this.verCodeStr="Get mailbox verification code",this.fileList=[],this.nzValidateStatus="warning",this.countryList=[],this.fileImg="",this.fallback="data:image/png;base64,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",this.addrValidator=l=>l.value?/^[A-Za-z0-9 _]{1,200}$/.test(l.value)?(this.verCodeStatus=!1,{}):{regular:!0,error:!0}:{error:!0,required:!0},this.emailValidator=l=>l.value?/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/.test(l.value)?(this.verCodeStatus=!1,{}):{regular:!0,error:!0}:{error:!0,required:!0},this.phoneValidator=l=>l.value?/^[0-9]{1,20}$/.test(l.value)?{}:{regular:!0,error:!0}:{error:!0,required:!0},this.contactValidator=l=>l.value?/^[A-Za-z0-9]{1,50}$/.test(l.value)?{}:{regular:!0,error:!0}:{error:!0,required:!0},this.confirmValidator=l=>l.value?/^[a-zA-Z]+.*$/.test(l.value)?{}:{regular:!0,error:!0}:{error:!0,required:!0},this.urlValidator=l=>l.value?/^((https:\/\/)?([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])(:\d{0,5})(\/.*)?$/.test(l.value)?{}:{regular:!0,error:!0}:{error:!0,required:!0}}ngOnDestroy(){this.timer&&clearInterval(this.timer)}ngOnInit(){this.initPage(),this.validateForm=this.fb.group({udpnPeerNameTag:[null,[a.kI.required]],udpnPeerNameValue:[null,[a.kI.required]],udpnPeerName:[null,[a.kI.required,this.confirmValidator]],countryId:[null,[a.kI.required]],udpnPeerTitle:[null,[a.kI.required]],udpnPeerDesc:[null,[a.kI.required]],udpnDidDocument:[null,[a.kI.required]],nodeContact:[null,[a.kI.required,this.contactValidator]],nodePhone:[null,[this.phoneValidator]],udpnPeerEmail:[null,[a.kI.required,this.emailValidator]],verifyCode:[null,[a.kI.required]],nodeAddr:[null,[a.kI.required,this.addrValidator]],chainMemberLicense:[null,[a.kI.required]]})}initPage(){this.bnOnboardingService.bnData().subscribe(n=>{console.log(n),("{}"==JSON.stringify(n.data)||null===n.data)&&this.bnOnboardingService.countryList().subscribe(i=>{this.countryList=i.data;const r=[];this.countryList.map((u,s)=>{r.push({value:Number(u.countryId),label:u.enName})}),this.countryList=r})}),this.bnOnboardingService.bnData().subscribe(n=>{("{}"==JSON.stringify(n.data)||null===n.data)&&this.bnOnboardingService.bnBoardVerify().subscribe(i=>{console.log(i),i.data.excessTime>0&&this.counterSet(i.data.excessTime)})})}onSelect(){this.modalService.create({nzTitle:"Select the Connected VN Node",nzWidth:"60%",nzContent:N,nzComponentParams:{type:"init"}}).afterClose.subscribe(n=>{this.validateForm.get("udpnPeerNameTag").setValue(n.vnNodeName),this.nzValidateStatus="success",this.validateForm.get("udpnPeerNameValue").setValue(n.vnId)})}onSendMail(){this.bnOnboardingService.bnBoardVerify().subscribe(n=>{n.data.excessTime>0?this.counterSet(n.data.excessTime):(this.verCodeLoading=!0,this.bnOnboardingService.bnBoardSend({toEmail:this.validateForm.get("udpnPeerEmail").value}).pipe((0,g.x)(()=>this.verCodeLoading=!1)).subscribe(i=>{0===i.code&&this.counterSet(180)}))})}submitForm(){this.bnOnboardingService.uploadImg(this.fileImgWord).subscribe(n=>{if(0===n.code)if(this.validateForm.get("chainMemberLicense").setValue(n.data),this.validateForm.valid){this.subLoading=!0;const i={udpnDidDocument:this.validateForm.get("udpnDidDocument").value,udpnPeerDesc:this.validateForm.get("udpnPeerDesc").value,udpnPeerName:this.validateForm.get("udpnPeerName").value,udpnPeerTitle:this.validateForm.get("udpnPeerTitle").value,bnEmailCode:this.validateForm.get("verifyCode").value,nodeUrl:"https://127.0.0.1:8081",countryId:this.validateForm.get("countryId").value,nodeLicense:this.validateForm.get("chainMemberLicense").value,nodePhone:this.validateForm.get("nodePhone").value,nodeEmail:this.validateForm.get("udpnPeerEmail").value,nodeContact:this.validateForm.get("nodeContact").value,nodeAddr:this.validateForm.get("nodeAddr").value};this.bnOnboardingService.bnBoardSave(i).pipe((0,g.x)(()=>this.subLoading=!1)).subscribe(r=>{0===r.code&&(this.message.success("save success !"),setTimeout(()=>{this.router.navigate(["/bn-home/home/info"])},2e3))})}else Object.values(this.validateForm.controls).forEach(i=>{i.invalid&&(i.markAsDirty(),i.updateValueAndValidity({onlySelf:!0}))})})}uploadFile(n){"text/plain"===n.target.files[0].type?new Promise((r,u)=>{const s=new FileReader;s.onload=()=>{s.result?r(s.result.toString()):this.message.error("file content is empty!")},s.readAsText(n.target.files[0],"utf-8")}).then(r=>{if(this.isJSON(r)){var u=JSON.parse(r),s=JSON.stringify(u,void 0,4);this.validateForm.get("udpnDidDocument").setValue(s)}else this.message.error("File format error!")}):this.message.error("File format error!")}uploadFileImg(n){if(0===n.length)return;const i=new FileReader;i.readAsDataURL(n[0]),i.onload=()=>{this.fileImg=i.result,this.fileImgWord=n[0]}}isJSON(n){if("string"==typeof n){const i=JSON.parse(n);return!("object"!=typeof i||!i)}return!1}counterSet(n){this.counter=n,console.log(this.counter),null!==typeof n&&(this.timer=setInterval(()=>{if(0===n)return this.counter=0,this.verCodeStr="Get mailbox verification code",this.verCodeStatus=""===this.validateForm.get("udpnPeerEmail").value,void clearInterval(this.timer);const i=n--;this.counter=i,this.verCodeStr=`Regain mailbox verification code( ${this.counter} S )`,this.verCodeStatus=!0},1e3))}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(a.qu),e.Y36(f.Sf),e.Y36(Z.Z),e.Y36(b.dD),e.Y36(p.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-register"]],decls:105,vars:80,consts:[["nz-row","",1,"inner-content"],["nz-col","","nzSpan","22","nzOffset","1"],["nz-form","",3,"formGroup","ngSubmit"],["nzTitle","Node Information",3,"nzBordered"],["nzFor","captcha","nzRequired","",3,"nzSm","nzXs"],["nzWarningTip","Select the Connected VN Node is required.",3,"nzSm","nzXs","nzValidateStatus"],["nz-row","",3,"nzGutter"],["nz-col","",3,"nzSpan"],["nz-input","","id","captcha","placeholder","Select the Connected VN Node","formControlName","udpnPeerNameTag"],["nz-button","","type","button",3,"click"],["nzRequired","",3,"nzSm","nzXs"],[3,"nzSm","nzXs","nzErrorTip"],["nz-input","","formControlName","udpnPeerName","placeholder","Node Name"],["passwordErrorTpl",""],["nzErrorTip","The Country or Region is required!",3,"nzSm","nzXs"],["formControlName","countryId","nzPlaceHolder","Country or Region"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],["nzErrorTip","The Brief Introduction is required!",3,"nzSm","nzXs"],["nz-input","","formControlName","udpnPeerTitle","placeholder","Brief Introduction"],["nzErrorTip","The Description is required!",3,"nzSm","nzXs"],["formControlName","udpnPeerDesc","nz-input","","rows","3","placeholder","Description"],[3,"nzSm","nzXs"],["nz-button","","nzType","default","type","button",3,"click"],["type","file","accept",".txt","hidden","",3,"change"],["upFile",""],[1,"opacity-0",3,"nzSm","nzXs"],["nzErrorTip","The DID Document for the node is required!",3,"nzSm","nzXs"],["formControlName","udpnDidDocument","nz-input","","rows","18","placeholder","DID Document for the node","readonly",""],["nzTitle","Contact Information",3,"nzBordered"],[1,"mb-20"],["nz-input","","formControlName","nodeContact","placeholder","Contact Name"],["contactErrorTpl",""],["nz-input","","formControlName","nodePhone","placeholder","Mobile Number"],["phoneErrorTpl",""],["nz-input","","formControlName","udpnPeerEmail","placeholder","Email"],["emailErrorTpl",""],["nzErrorTip","Please input the captcha you got!",3,"nzSm","nzXs"],["nz-input","","id","captcha","formControlName","verifyCode","placeholder","Verification Code"],["type","button","nz-button","",3,"disabled","nzLoading","click"],["nz-input","","formControlName","nodeAddr","placeholder","Detailed Address"],["addrErrorTpl",""],["nzRequired","","nzFor","email",3,"nzSm","nzXs"],["nzErrorTip","The input is not valid E-mail!",3,"nzSm","nzXs"],["type","file","accept","image/png","hidden","",3,"change"],["upFiles",""],["nz-image","","width","200px","height","200px","alt","",3,"nzSrc","nzFallback"],["nz-row","",1,"register-area"],[3,"nzSpan","nzOffset"],["nz-button","","nzType","primary",3,"nzLoading"],[4,"ngIf"],[3,"nzValue","nzLabel"]],template:function(n,i){if(1&n){const r=e.EpF();e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"form",2),e.NdJ("ngSubmit",function(){return i.submitForm()}),e.TgZ(3,"nz-card",3),e.TgZ(4,"nz-form-item"),e.TgZ(5,"nz-form-label",4),e._uU(6," Select the Connected VN Node "),e.qZA(),e.TgZ(7,"nz-form-control",5),e.TgZ(8,"div",6),e.TgZ(9,"div",7),e._UZ(10,"input",8),e.qZA(),e.TgZ(11,"div",7),e.TgZ(12,"button",9),e.NdJ("click",function(){return i.onSelect()}),e._uU(13,"Select"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(14,"nz-form-item"),e.TgZ(15,"nz-form-label",10),e._uU(16,"Node Name"),e.qZA(),e.TgZ(17,"nz-form-control",11),e._UZ(18,"input",12),e.YNc(19,Le,2,2,"ng-template",null,13,e.W1O),e.qZA(),e.qZA(),e.TgZ(21,"nz-form-item"),e.TgZ(22,"nz-form-label",10),e._uU(23,"Country or Region"),e.qZA(),e.TgZ(24,"nz-form-control",14),e.TgZ(25,"nz-select",15),e.YNc(26,Ye,1,2,"nz-option",16),e.qZA(),e.qZA(),e.qZA(),e.TgZ(27,"nz-form-item"),e.TgZ(28,"nz-form-label",10),e._uU(29,"Brief Introduction"),e.qZA(),e.TgZ(30,"nz-form-control",17),e._UZ(31,"input",18),e.qZA(),e.qZA(),e.TgZ(32,"nz-form-item"),e.TgZ(33,"nz-form-label",10),e._uU(34,"Description"),e.qZA(),e.TgZ(35,"nz-form-control",19),e._UZ(36,"textarea",20),e.qZA(),e.qZA(),e.TgZ(37,"nz-form-item"),e.TgZ(38,"nz-form-label",10),e._uU(39,"DID Document for the node"),e.qZA(),e.TgZ(40,"nz-form-control",21),e.TgZ(41,"button",22),e.NdJ("click",function(){return e.CHM(r),e.MAs(44).click()}),e._uU(42,"Browse"),e.qZA(),e.TgZ(43,"input",23,24),e.NdJ("change",function(s){return i.uploadFile(s)}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(45,"nz-form-item"),e._UZ(46,"nz-form-label",25),e.TgZ(47,"nz-form-control",26),e._UZ(48,"textarea",27),e.qZA(),e.qZA(),e.qZA(),e.TgZ(49,"nz-card",28),e.TgZ(50,"div",29),e.TgZ(51,"nz-form-item"),e.TgZ(52,"nz-form-label",10),e._uU(53,"Contact Name"),e.qZA(),e.TgZ(54,"nz-form-control",11),e._UZ(55,"input",30),e.YNc(56,Xe,2,2,"ng-template",null,31,e.W1O),e.qZA(),e.qZA(),e.TgZ(58,"nz-form-item"),e.TgZ(59,"nz-form-label",10),e._uU(60,"Mobile Number"),e.qZA(),e.TgZ(61,"nz-form-control",11),e._UZ(62,"input",32),e.YNc(63,Ke,2,2,"ng-template",null,33,e.W1O),e.qZA(),e.qZA(),e.TgZ(65,"nz-form-item"),e.TgZ(66,"nz-form-label",10),e._uU(67,"Email"),e.qZA(),e.TgZ(68,"nz-form-control",11),e._UZ(69,"input",34),e.YNc(70,He,2,2,"ng-template",null,35,e.W1O),e.qZA(),e.qZA(),e.TgZ(72,"nz-form-item"),e.TgZ(73,"nz-form-label",4),e._uU(74," Verification Code "),e.qZA(),e.TgZ(75,"nz-form-control",36),e.TgZ(76,"div",6),e.TgZ(77,"div",7),e._UZ(78,"input",37),e.qZA(),e.TgZ(79,"div",7),e.TgZ(80,"button",38),e.NdJ("click",function(){return i.onSendMail()}),e._uU(81),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(82,"nz-form-item"),e.TgZ(83,"nz-form-label",10),e._uU(84,"Detailed Address"),e.qZA(),e.TgZ(85,"nz-form-control",11),e._UZ(86,"input",39),e.YNc(87,$e,2,2,"ng-template",null,40,e.W1O),e.qZA(),e.qZA(),e.TgZ(89,"nz-form-item"),e.TgZ(90,"nz-form-label",41),e._uU(91,"Business License"),e.qZA(),e.TgZ(92,"nz-form-control",42),e.TgZ(93,"button",22),e.NdJ("click",function(){return e.CHM(r),e.MAs(96).click()}),e._uU(94,"Upload"),e.qZA(),e.TgZ(95,"input",43,44),e.NdJ("change",function(s){return i.uploadFileImg(s.target.files)}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(97,"nz-form-item"),e._UZ(98,"nz-form-label",25),e.TgZ(99,"nz-form-control",26),e._UZ(100,"img",45),e.qZA(),e.qZA(),e.TgZ(101,"nz-form-item",46),e.TgZ(102,"nz-form-control",47),e.TgZ(103,"button",48),e._uU(104,"Save"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&n){const r=e.MAs(20),u=e.MAs(57),s=e.MAs(64),l=e.MAs(71),J=e.MAs(88);e.xp6(2),e.Q6J("formGroup",i.validateForm),e.xp6(1),e.Q6J("nzBordered",!1),e.xp6(2),e.Q6J("nzSm",6)("nzXs",24),e.xp6(2),e.Q6J("nzSm",14)("nzXs",24)("nzValidateStatus",i.nzValidateStatus),e.xp6(1),e.Q6J("nzGutter",8),e.xp6(1),e.Q6J("nzSpan",12),e.xp6(2),e.Q6J("nzSpan",12),e.xp6(4),e.Q6J("nzSm",6)("nzXs",24),e.xp6(2),e.Q6J("nzSm",14)("nzXs",24)("nzErrorTip",r),e.xp6(5),e.Q6J("nzSm",6)("nzXs",24),e.xp6(2),e.Q6J("nzSm",14)("nzXs",24),e.xp6(2),e.Q6J("ngForOf",i.countryList),e.xp6(2),e.Q6J("nzSm",6)("nzXs",24),e.xp6(2),e.Q6J("nzSm",14)("nzXs",24),e.xp6(3),e.Q6J("nzSm",6)("nzXs",24),e.xp6(2),e.Q6J("nzSm",14)("nzXs",24),e.xp6(3),e.Q6J("nzSm",6)("nzXs",24),e.xp6(2),e.Q6J("nzSm",14)("nzXs",24),e.xp6(6),e.Q6J("nzSm",6)("nzXs",24),e.xp6(1),e.Q6J("nzSm",14)("nzXs",24),e.xp6(2),e.Q6J("nzBordered",!1),e.xp6(3),e.Q6J("nzSm",6)("nzXs",24),e.xp6(2),e.Q6J("nzSm",14)("nzXs",24)("nzErrorTip",u),e.xp6(5),e.Q6J("nzSm",6)("nzXs",24),e.xp6(2),e.Q6J("nzSm",14)("nzXs",24)("nzErrorTip",s),e.xp6(5),e.Q6J("nzSm",6)("nzXs",24),e.xp6(2),e.Q6J("nzSm",14)("nzXs",24)("nzErrorTip",l),e.xp6(5),e.Q6J("nzSm",6)("nzXs",24),e.xp6(2),e.Q6J("nzSm",14)("nzXs",24),e.xp6(1),e.Q6J("nzGutter",8),e.xp6(1),e.Q6J("nzSpan",12),e.xp6(2),e.Q6J("nzSpan",12),e.xp6(1),e.Q6J("disabled",i.verCodeStatus)("nzLoading",i.verCodeLoading),e.xp6(1),e.Oqu(i.verCodeStr),e.xp6(2),e.Q6J("nzSm",6)("nzXs",24),e.xp6(2),e.Q6J("nzSm",14)("nzXs",24)("nzErrorTip",J),e.xp6(5),e.Q6J("nzSm",6)("nzXs",24),e.xp6(2),e.Q6J("nzSm",14)("nzXs",24),e.xp6(6),e.Q6J("nzSm",6)("nzXs",24),e.xp6(1),e.Q6J("nzSm",14)("nzXs",24),e.xp6(1),e.Q6J("nzSrc",i.fileImg)("nzFallback",i.fallback),e.xp6(2),e.Q6J("nzSpan",14)("nzOffset",6),e.xp6(1),e.Q6J("nzLoading",i.subLoading)}},directives:[m.SK,m.t3,a._Y,a.JL,c.Lr,a.sg,E.bd,c.Nx,c.iK,c.Fd,T.Zp,a.Fj,a.JJ,a.u,h.ix,Q.dQ,_.w,A.O5,C.Vq,A.sg,C.Ip,v.Ie],styles:[""]}),t})(),resolve:[y.i]},{path:"info",component:le},{path:"edit",component:V},{path:"reApply",component:Ie},{path:"registerSignature",component:De},{path:"signature",component:(()=>{class t{constructor(n,i,r,u,s){this.fb=n,this.modalService=i,this.bnOnboardingService=r,this.message=u,this.router=s,this.counter=0,this.verCodeStatus=!0,this.verCodeLoading=!1,this.subLoading=!1,this.savLoading=!1,this.fileList=[],this.nzValidateStatus="success",this.editStatus=!0}ngOnDestroy(){this.timer&&clearInterval(this.timer)}ngOnInit(){this.initPage(),this.validateForm=this.fb.group({udpnPeerNameTag:[null,[a.kI.required]],did:[null,[a.kI.required]],didSignatureValue:[null,[a.kI.required]]})}initPage(){this.bnOnboardingService.bnData().subscribe(n=>{this.validateForm.get("udpnPeerNameTag").setValue(n.data.vnNodeName),this.nodeId=n.data.nodeId,this.validateForm.get("did").setValue(n.data.udpnDid),this.validateForm.get("didSignatureValue").setValue(n.data.didSignatureValue)})}onSelect(){this.modalService.create({nzTitle:"Select the Connected VN Node",nzWidth:"60%",nzContent:N,nzComponentParams:{type:"init"}}).afterClose.subscribe(n=>{"{}"!==JSON.stringify(n)&&(this.validateForm.get("udpnPeerNameTag").setValue(n.vnNodeName),this.nzValidateStatus="success")})}onSave(){const n={did:this.validateForm.get("did").value,didSignatureValue:this.validateForm.get("didSignatureValue").value,nodeId:this.nodeId};this.modalService.confirm({nzTitle:"<i>Are you sure you want to save?</i>",nzOnOk:()=>{this.savLoading=!0,this.bnOnboardingService.bnSignEdit(n).pipe((0,g.x)(()=>this.savLoading=!1)).subscribe(i=>{0===i.code&&(this.message.success("edit success !"),setTimeout(()=>{window.location.reload()},2e3))})}})}submitForm(){const n={did:this.validateForm.get("did").value,didSignatureValue:this.validateForm.get("didSignatureValue").value};this.modalService.confirm({nzTitle:"<i>Are you sure you want to Submit?</i>",nzOnOk:()=>{this.savLoading=!0,this.bnOnboardingService.bnSignSubmit(n).pipe((0,g.x)(()=>this.savLoading=!1)).subscribe(i=>{0===i.code&&(this.message.success("subnit success !"),setTimeout(()=>{this.router.navigate(["/bn-home"])},2e3))})}})}onchange(){this.editStatus=!this.editStatus}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(a.qu),e.Y36(f.Sf),e.Y36(Z.Z),e.Y36(b.dD),e.Y36(p.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-signature"]],decls:34,vars:24,consts:[["nz-row","",1,"inner-content"],["nz-col","","nzSpan","22","nzOffset","1"],["nz-form","",3,"formGroup","ngSubmit"],["nzTitle","Node Information",3,"nzBordered"],["nzFor","captcha","nzRequired","",3,"nzSm","nzXs"],["nzWarningTip","Select the Connected VN Node is required.",3,"nzSm","nzXs","nzValidateStatus"],["nz-row","",3,"nzGutter"],["nz-col","",3,"nzSpan"],["nz-input","","id","captcha","placeholder","Select the Connected VN Node","formControlName","udpnPeerNameTag"],["nz-button","","type","button",3,"click"],["nzRequired","",3,"nzSm","nzXs"],[3,"nzSm","nzXs","nzErrorTip"],["nz-input","","formControlName","did","placeholder","DID"],["passwordErrorTpl",""],["nz-input","","formControlName","didSignatureValue","placeholder","Did Signature Value"],["gatewayErrorTpl",""],["nz-row","",1,"register-area"],[3,"nzSpan","nzOffset"],[4,"ngIf"],["nz-button","","nzType","primary",3,"nzLoading",4,"nzSpaceItem"],["nz-button","","color","primary","type","button",3,"click",4,"nzSpaceItem"],["nz-button","","color","primary","type","button",3,"click"],["nz-button","","nzType","default","type","button",3,"nzLoading","click",4,"nzSpaceItem"],["nz-button","","nzType","default","type","button",3,"nzLoading","click"],["nz-button","","nzType","primary",3,"nzLoading"]],template:function(n,i){if(1&n&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"form",2),e.NdJ("ngSubmit",function(){return i.submitForm()}),e.TgZ(3,"nz-card",3),e.TgZ(4,"nz-form-item"),e.TgZ(5,"nz-form-label",4),e._uU(6," Select the Connected VN Node "),e.qZA(),e.TgZ(7,"nz-form-control",5),e.TgZ(8,"div",6),e.TgZ(9,"div",7),e._UZ(10,"input",8),e.qZA(),e.TgZ(11,"div",7),e.TgZ(12,"button",9),e.NdJ("click",function(){return i.onSelect()}),e._uU(13,"Select"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(14,"nz-form-item"),e.TgZ(15,"nz-form-label",10),e._uU(16,"DID"),e.qZA(),e.TgZ(17,"nz-form-control",11),e._UZ(18,"input",12),e.YNc(19,tn,1,1,"ng-template",null,13,e.W1O),e.qZA(),e.qZA(),e.TgZ(21,"nz-form-item"),e.TgZ(22,"nz-form-label",10),e._uU(23,"Did Signature Value"),e.qZA(),e.TgZ(24,"nz-form-control",11),e._UZ(25,"input",14),e.YNc(26,rn,1,1,"ng-template",null,15,e.W1O),e.qZA(),e.qZA(),e.TgZ(28,"nz-form-item",16),e.TgZ(29,"nz-form-control",17),e.TgZ(30,"nz-space"),e.YNc(31,sn,2,0,"ng-container",18),e.YNc(32,un,2,0,"ng-container",18),e.YNc(33,dn,2,1,"button",19),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&n){const r=e.MAs(20),u=e.MAs(27);e.xp6(2),e.Q6J("formGroup",i.validateForm),e.xp6(1),e.Q6J("nzBordered",!1),e.xp6(2),e.Q6J("nzSm",6)("nzXs",24),e.xp6(2),e.Q6J("nzSm",14)("nzXs",24)("nzValidateStatus",i.nzValidateStatus),e.xp6(1),e.Q6J("nzGutter",8),e.xp6(1),e.Q6J("nzSpan",12),e.xp6(2),e.Q6J("nzSpan",12),e.xp6(4),e.Q6J("nzSm",6)("nzXs",24),e.xp6(2),e.Q6J("nzSm",14)("nzXs",24)("nzErrorTip",r),e.xp6(5),e.Q6J("nzSm",6)("nzXs",24),e.xp6(2),e.Q6J("nzSm",14)("nzXs",24)("nzErrorTip",u),e.xp6(5),e.Q6J("nzSpan",14)("nzOffset",6),e.xp6(2),e.Q6J("ngIf",i.editStatus),e.xp6(1),e.Q6J("ngIf",!i.editStatus)}},directives:[m.SK,m.t3,a._Y,a.JL,c.Lr,a.sg,E.bd,c.Nx,c.iK,c.Fd,T.Zp,a.Fj,a.JJ,a.u,h.ix,Q.dQ,_.w,A.O5,z.NU,z.$1],styles:[""]}),t})()}];let mn=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[p.Bz.forChild(gn)],p.Bz]}),t})();var An=d(976);let pn=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[An.m,A.ez,mn,a.UX]]}),t})()}}]);