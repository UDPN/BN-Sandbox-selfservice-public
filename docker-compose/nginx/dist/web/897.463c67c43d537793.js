"use strict";(self.webpackChunkudpn_b=self.webpackChunkudpn_b||[]).push([[897],{5897:(vt,A,s)=>{s.r(A),s.d(A,{TransactionQueryModule:()=>qt});var d=s(9808),m=s(3075),D=s(88),g=s(4521),Y=s(7058),t=s(5e3),L=s(5996),T=s(1758),f=s(1894),x=s(7484),z=s(8144),h=s(3098),q=s(2712),v=s(6695),y=s(6042),U=s(2643),C=s(2683),b=s(8404),S=s(1062),Q=s(1331),N=s(9598);function V(e,o){1&e&&t._UZ(0,"img",33)}function B(e,o){1&e&&t._UZ(0,"img",34)}function K(e,o){1&e&&(t.TgZ(0,"div"),t.TgZ(1,"nz-space"),t.YNc(2,V,1,0,"img",31),t.YNc(3,B,1,0,"img",32),t.qZA(),t.qZA())}function E(e,o){if(1&e&&(t.TgZ(0,"nz-descriptions-item",35),t._uU(1),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.hij(" ",n.info.targetTnName," ")}}function k(e,o){if(1&e&&(t.TgZ(0,"nz-descriptions-item",36),t._uU(1),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.hij(" ",n.info.targetTnCode," ")}}const u=function(e){return{"time-card-gray":e}};function R(e,o){if(1&e&&(t.TgZ(0,"div",49),t.TgZ(1,"div"),t._uU(2),t.ALo(3,"vnStatus"),t.qZA(),t.TgZ(4,"div"),t._uU(5,"\uff08#1\uff09"),t.qZA(),t.qZA()),2&e){const n=t.oxw(2);t.Q6J("ngClass",t.VKq(4,u,3===n.timeLineList[n.timeLineList.length-2].color)),t.xp6(2),t.hij(" ",t.lcZ(3,2,n.timeLineList[n.timeLineList.length-2].status)," ")}}function W(e,o){if(1&e&&(t.TgZ(0,"div",45),t.TgZ(1,"div"),t.TgZ(2,"span",46),t._uU(3),t.qZA(),t.qZA(),t.TgZ(4,"div"),t._uU(5),t.ALo(6,"vnStatus"),t.qZA(),t.TgZ(7,"div"),t._uU(8),t.ALo(9,"translate"),t.ALo(10,"custom"),t.qZA(),t.qZA()),2&e){const n=t.oxw(2);t.xp6(2),t.Q6J("nzTooltipTitle",n.timeLineList[n.timeLineList.length-1].key)("nzTooltipPlacement","right"),t.xp6(1),t.hij("txn id:",n.timeLineList[n.timeLineList.length-1].key.slice(0,30)+"...",""),t.xp6(2),t.hij(" txn state:",t.lcZ(6,5,n.timeLineList[n.timeLineList.length-1].status)," "),t.xp6(3),t.hij(" received time:",t.lcZ(9,7,t.xi3(10,9,n.timeLineList[n.timeLineList.length-1].date,"date"))," ")}}function H(e,o){if(1&e&&(t.TgZ(0,"div",49),t.TgZ(1,"div"),t._uU(2),t.ALo(3,"vnStatus"),t.qZA(),t.TgZ(4,"div"),t._uU(5,"\uff08#3\uff09"),t.qZA(),t.qZA()),2&e){const n=t.oxw(2);t.Q6J("ngClass",t.VKq(4,u,3===n.timeLineList[0].color)),t.xp6(2),t.Oqu(t.lcZ(3,2,n.timeLineList[0].status))}}function $(e,o){if(1&e&&(t.ynx(0),t._UZ(1,"div",58),t.TgZ(2,"div",59),t.TgZ(3,"div"),t._uU(4,"Exception handling"),t.qZA(),t.TgZ(5,"div"),t._uU(6),t.qZA(),t.qZA(),t._UZ(7,"div",58),t.TgZ(8,"div",60),t._UZ(9,"div",61),t.TgZ(10,"div",62),t._uU(11,"End"),t.qZA(),t.qZA(),t.BQk()),2&e){const n=t.oxw(2);t.xp6(6),t.hij("\uff08#",n.timeLineList[3].is?"5":"","\uff09")}}function G(e,o){if(1&e&&(t.TgZ(0,"div",45),t.TgZ(1,"div"),t.TgZ(2,"span",46),t._uU(3),t.qZA(),t.qZA(),t.TgZ(4,"div"),t._uU(5),t.ALo(6,"vnStatus"),t.qZA(),t.TgZ(7,"div"),t._uU(8),t.ALo(9,"translate"),t.ALo(10,"custom"),t.qZA(),t.qZA()),2&e){const n=t.oxw(2);t.xp6(2),t.Q6J("nzTooltipTitle",n.timeLineList[1].key)("nzTooltipPlacement","right"),t.xp6(1),t.hij("txn id:",n.timeLineList[1].key.slice(0,30)+"...",""),t.xp6(2),t.hij(" txn state:",t.lcZ(6,5,n.timeLineList[1].status)," "),t.xp6(3),t.hij(" received time:",t.lcZ(9,7,t.xi3(10,9,n.timeLineList[1].date,"date"))," ")}}function X(e,o){if(1&e&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"thousandSeparator"),t.qZA()),2&e){const n=t.oxw(2);t.xp6(1),t.AsE(" Transaction fee:",null===n.timeLineList[2].fee||""===n.timeLineList[2].fee?"--":t.lcZ(2,2,n.timeLineList[2].fee)," ","--"===n.timeLineList[2].fee?"":n.info.fromCurrencyType.split("-")[0]," ")}}function tt(e,o){if(1&e&&(t.TgZ(0,"div",49),t.TgZ(1,"div"),t._uU(2,"Tn1 procssd successfully"),t.qZA(),t.TgZ(3,"div"),t._uU(4),t.qZA(),t.qZA()),2&e){const n=t.oxw(2);t.Q6J("ngClass",t.VKq(2,u,3===n.timeLineList[2].color)),t.xp6(4),t.hij("\uff08#","5","\uff09")}}const J=function(e){return{grayscale:e}};function nt(e,o){if(1&e&&(t.ynx(0),t._UZ(1,"div",58),t.TgZ(2,"div",59),t.TgZ(3,"div"),t._uU(4),t.ALo(5,"vnStatus"),t.qZA(),t.TgZ(6,"div"),t._uU(7),t.qZA(),t.qZA(),t._UZ(8,"div",65),t.TgZ(9,"div",60),t._UZ(10,"div",66),t.TgZ(11,"div",62),t._uU(12,"End"),t.qZA(),t.qZA(),t.BQk()),2&e){const n=t.oxw(3);t.xp6(4),t.Oqu(t.lcZ(5,4,n.timeLineList[6].status)),t.xp6(3),t.hij(" \uff08#",n.timeLineList[6].is?"7":"","\uff09 "),t.xp6(1),t.Q6J("ngClass",t.VKq(6,J,!(n.timeLineList[8].is||n.timeLineList[9].is))),t.xp6(2),t.Q6J("ngClass",t.VKq(8,J,!(n.timeLineList[8].is||n.timeLineList[9].is)))}}function et(e,o){if(1&e&&(t.TgZ(0,"div",45),t.TgZ(1,"div"),t.TgZ(2,"span",46),t._uU(3),t.qZA(),t.qZA(),t.TgZ(4,"div"),t._uU(5),t.ALo(6,"vnStatus"),t.qZA(),t.TgZ(7,"div"),t._uU(8),t.ALo(9,"translate"),t.ALo(10,"custom"),t.qZA(),t.qZA()),2&e){const n=t.oxw(3);t.xp6(2),t.Q6J("nzTooltipTitle",n.timeLineList[4].key)("nzTooltipPlacement","right"),t.xp6(1),t.hij("txn id:",n.timeLineList[4].key.slice(0,30)+"...",""),t.xp6(2),t.hij(" txn state:",t.lcZ(6,5,n.timeLineList[4].status)," "),t.xp6(3),t.hij(" received time:",t.lcZ(9,7,t.xi3(10,9,n.timeLineList[4].date,"date"))," ")}}function it(e,o){if(1&e&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"thousandSeparator"),t.qZA()),2&e){const n=t.oxw(3);t.xp6(1),t.AsE(" Transaction fee:",null===n.timeLineList[5].fee||""===n.timeLineList[5].fee?"--":t.lcZ(2,2,n.timeLineList[5].fee)," ","--"===n.timeLineList[5].fee?"":n.info.fromCurrencyType.split("-")[0]," ")}}function ot(e,o){if(1&e&&(t.TgZ(0,"div",49),t.TgZ(1,"div"),t._uU(2,"Tn2 procssd successfully"),t.qZA(),t.TgZ(3,"div"),t._uU(4),t.qZA(),t.qZA()),2&e){const n=t.oxw(3);t.Q6J("ngClass",t.VKq(2,u,3===n.timeLineList[5].color)),t.xp6(4),t.hij(" \uff08#","7","\uff09 ")}}const F=function(e,o,n){return{flex:e,"justify-around":o,"w-full":n}};function at(e,o){if(1&e&&(t.ynx(0),t.TgZ(1,"nz-timeline-item",44),t.TgZ(2,"div",52),t.TgZ(3,"div",49),t.TgZ(4,"div"),t._uU(5,"TN2 processing"),t.qZA(),t.TgZ(6,"div"),t._uU(7),t.qZA(),t.qZA(),t.YNc(8,nt,13,10,"ng-container",27),t.qZA(),t.YNc(9,et,11,12,"ng-template",null,63,t.W1O),t.qZA(),t.TgZ(11,"nz-timeline-item",44),t.TgZ(12,"div",45),t.TgZ(13,"div"),t.TgZ(14,"span",46),t._uU(15),t.qZA(),t.qZA(),t.TgZ(16,"div"),t._uU(17),t.ALo(18,"vnStatus"),t.qZA(),t.TgZ(19,"div"),t._uU(20),t.ALo(21,"translate"),t.ALo(22,"custom"),t.qZA(),t.YNc(23,it,3,4,"div",27),t.qZA(),t.YNc(24,ot,5,4,"ng-template",null,64,t.W1O),t.qZA(),t.BQk()),2&e){const n=t.MAs(10),i=t.MAs(25);t.oxw();const l=t.MAs(80),a=t.oxw();t.xp6(1),t.Q6J("nzDot",l)("nzLabel",n),t.xp6(1),t.Q6J("ngClass",t.kEZ(21,F,a.timeLineList[6].is,a.timeLineList[6].is,a.timeLineList[6].is)),t.xp6(1),t.Q6J("ngClass",t.VKq(25,u,3===a.timeLineList[4].color)),t.xp6(4),t.hij(" \uff08#","6","\uff09 "),t.xp6(1),t.Q6J("ngIf",a.timeLineList[6].is),t.xp6(3),t.Q6J("nzDot",l)("nzLabel",i),t.xp6(3),t.Q6J("nzTooltipTitle",a.timeLineList[5].key)("nzTooltipPlacement","right"),t.xp6(1),t.hij("txn id:",a.timeLineList[5].key.slice(0,30)+"...",""),t.xp6(2),t.hij(" txn state:",t.lcZ(18,14,a.timeLineList[5].status)," "),t.xp6(3),t.hij(" received time:",t.lcZ(21,16,t.xi3(22,18,a.timeLineList[5].date,"date"))," "),t.xp6(3),t.Q6J("ngIf","--"!==a.timeLineList[5].fee)}}function rt(e,o){1&e&&t._UZ(0,"img",67)}function st(e,o){1&e&&t._UZ(0,"div",68)}const lt=function(e){return{dTimeLine:e}};function ct(e,o){if(1&e&&(t.ynx(0),t.TgZ(1,"div",37),t.TgZ(2,"div",38),t.TgZ(3,"div",39),t._uU(4),t.qZA(),t.TgZ(5,"div"),t.TgZ(6,"nz-timeline",40),t.TgZ(7,"nz-timeline-item",41),t.TgZ(8,"div",42),t.TgZ(9,"div",43),t._uU(10,"Start"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(11,"nz-timeline-item",44),t.TgZ(12,"div",45),t.TgZ(13,"div"),t.TgZ(14,"span",46),t._uU(15),t.qZA(),t.qZA(),t.TgZ(16,"div"),t._uU(17),t.ALo(18,"vnStatus"),t.qZA(),t.TgZ(19,"div"),t._uU(20),t.ALo(21,"translate"),t.ALo(22,"custom"),t.qZA(),t.qZA(),t.YNc(23,R,6,6,"ng-template",null,47,t.W1O),t.qZA(),t.TgZ(25,"nz-timeline-item",44),t.TgZ(26,"div",48),t.TgZ(27,"div",49),t.TgZ(28,"div"),t._uU(29),t.ALo(30,"vnStatus"),t.qZA(),t.TgZ(31,"div"),t._uU(32,"\uff08#2\uff09"),t.qZA(),t.qZA(),t.qZA(),t.YNc(33,W,11,12,"ng-template",null,50,t.W1O),t.qZA(),t.TgZ(35,"nz-timeline-item",44),t.TgZ(36,"div",45),t.TgZ(37,"div"),t.TgZ(38,"span",46),t._uU(39),t.qZA(),t.qZA(),t.TgZ(40,"div"),t._uU(41),t.ALo(42,"vnStatus"),t.qZA(),t.TgZ(43,"div"),t._uU(44),t.ALo(45,"translate"),t.ALo(46,"custom"),t.qZA(),t.qZA(),t.YNc(47,H,6,6,"ng-template",null,51,t.W1O),t.qZA(),t.TgZ(49,"nz-timeline-item",44),t.TgZ(50,"div",52),t.TgZ(51,"div",49),t.TgZ(52,"div"),t._uU(53,"Tn1 processing"),t.qZA(),t.TgZ(54,"div"),t._uU(55,"\uff08#4\uff09"),t.qZA(),t.qZA(),t.YNc(56,$,12,1,"ng-container",27),t.qZA(),t.YNc(57,G,11,12,"ng-template",null,53,t.W1O),t.qZA(),t.TgZ(59,"nz-timeline-item",54),t.TgZ(60,"div",45),t.TgZ(61,"div"),t.TgZ(62,"span",46),t._uU(63),t.qZA(),t.qZA(),t.TgZ(64,"div"),t._uU(65),t.ALo(66,"vnStatus"),t.qZA(),t.TgZ(67,"div"),t._uU(68),t.ALo(69,"translate"),t.ALo(70,"custom"),t.qZA(),t.YNc(71,X,3,4,"div",27),t.qZA(),t.YNc(72,tt,5,4,"ng-template",null,55,t.W1O),t.qZA(),t.YNc(74,at,26,27,"ng-container",27),t.TgZ(75,"nz-timeline-item",41),t.TgZ(76,"div",42),t.TgZ(77,"div",43),t._uU(78,"End"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(79,rt,1,0,"ng-template",null,56,t.W1O),t.YNc(81,st,1,0,"ng-template",null,57,t.W1O),t.qZA(),t.qZA(),t.qZA(),t.BQk()),2&e){const n=t.MAs(24),i=t.MAs(34),l=t.MAs(48),a=t.MAs(58),p=t.MAs(73),c=t.MAs(80),w=t.MAs(82),r=t.oxw();t.xp6(1),t.Q6J("ngClass",t.VKq(59,lt,r.timeLineList[3].is||r.timeLineList[6].is)),t.xp6(3),t.hij(" ","State machine of a normal "+("Transfer"===r.info.transType?"transfer":"swap")+" transaction"," "),t.xp6(3),t.Q6J("nzDot",w),t.xp6(4),t.Q6J("nzDot",c)("nzLabel",n),t.xp6(3),t.Q6J("nzTooltipTitle",r.timeLineList[r.timeLineList.length-2].key)("nzTooltipPlacement","right"),t.xp6(1),t.hij("txn id:",r.timeLineList[r.timeLineList.length-2].key.slice(0,30)+"...",""),t.xp6(2),t.hij(" txn state:",t.lcZ(18,36,r.timeLineList[r.timeLineList.length-2].status)," "),t.xp6(3),t.hij(" received time:",t.lcZ(21,38,t.xi3(22,40,r.timeLineList[r.timeLineList.length-2].date,"date"))," "),t.xp6(5),t.Q6J("nzDot",c)("nzLabel",i),t.xp6(2),t.Q6J("ngClass",t.VKq(61,u,3===r.timeLineList[r.timeLineList.length-1].color)),t.xp6(2),t.hij(" ",t.lcZ(30,43,r.timeLineList[r.timeLineList.length-1].status)," "),t.xp6(6),t.Q6J("nzDot",c)("nzLabel",l),t.xp6(3),t.Q6J("nzTooltipTitle",r.timeLineList[0].key)("nzTooltipPlacement","right"),t.xp6(1),t.hij("txn id:",r.timeLineList[0].key.slice(0,30)+"...",""),t.xp6(2),t.hij("txn state:",t.lcZ(42,45,r.timeLineList[0].status),""),t.xp6(3),t.hij(" received time:",t.lcZ(45,47,t.xi3(46,49,r.timeLineList[0].date,"date"))," "),t.xp6(5),t.Q6J("nzDot",c)("nzLabel",a),t.xp6(1),t.Q6J("ngClass",t.kEZ(63,F,r.timeLineList[3].is,r.timeLineList[3].is,r.timeLineList[3].is)),t.xp6(1),t.Q6J("ngClass",t.VKq(67,u,3===r.timeLineList[1].color)),t.xp6(5),t.Q6J("ngIf",r.timeLineList[3].is),t.xp6(3),t.Q6J("nzDot",c)("nzLabel",p),t.xp6(3),t.Q6J("nzTooltipTitle",r.timeLineList[2].key)("nzTooltipPlacement","right"),t.xp6(1),t.hij("txn id:",r.timeLineList[2].key.slice(0,30)+"...",""),t.xp6(2),t.hij("txn state:",t.lcZ(66,52,r.timeLineList[2].status),""),t.xp6(3),t.hij(" received time:",t.lcZ(69,54,t.xi3(70,56,r.timeLineList[2].date,"date"))," "),t.xp6(3),t.Q6J("ngIf","--"!==r.timeLineList[2].fee),t.xp6(3),t.Q6J("ngIf","Transfer"!==r.info.transType),t.xp6(1),t.Q6J("nzDot",w)}}let I=(()=>{class e{constructor(n,i){this.bnNodeService=n,this.route=i,this.info={did:"",fromCurrencyType:"",fromPlatformType:"",fxRate:0,outTransactionHistoryList:"",sourceAccountAddress:"",submitTime:"",targetAccountAddress:"",toAmount:0,toCurrencyType:"",toPlatformType:"",totalAmount:0,transAmount:0,transFee:0,transId:"",transKey:"",transStatus:1,transType:"",originalTnName:"",originalTnCode:"",targetTnName:"",targetTnCode:""},this.timeLineList=[]}ngOnInit(){this.getInfo()}setDom(){setTimeout(()=>{let n=0,i=0;1===this.timeLineList[this.timeLineList.length-1].color&&(n=1),1===this.timeLineList[0].color&&(n=2),1===this.timeLineList[1].color&&(n=3),1===this.timeLineList[2].color&&(n=5,i=1),1===this.timeLineList[2].color&&1===this.info.transactionType&&(n=3,i=2),1===this.timeLineList[4].color&&(n=5,i=0),1===this.timeLineList[5].color&&(n=7,i=2);const l=document.getElementsByClassName("ant-timeline-item-tail");for(var a=0;a<l.length;a++)a>n&&(l[a].style["border-left"]="2px solid #cfcfcf");const p=document.getElementsByClassName("points");for(a=0;a<p.length;a++)a>n&&(p[a].style.filter="grayscale(1)");const c=document.getElementsByClassName("lastPoints");for(a=0;a<c.length;a++)a>i&&(c[a].style.filter="grayscale(1)")},100)}getInfo(){this.route.queryParams.subscribe(n=>{this.bnNodeService.getInfo({transKey:n.transId,transType:n.transType}).subscribe(i=>{this.info=i.data;const l=new Y.i;this.timeLineList=l.doData(i.data),this.setDom()})})}compare(n){return function(i,l){return i[n]-l[n]}}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(L.u),t.Y36(g.gz))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-info"]],inputs:{transactionKey:"transactionKey",transactionType:"transactionType"},decls:64,vars:49,consts:[[1,"ctx-titles"],["routerLink","/sandBox/transaction/query"],[1,"font-semibold"],["nz-row","",1,"inner-content"],["nz-col","","nzSpan","24","nzOffset",""],["nzTitle","Basic Information",3,"nzExtra","nzBordered"],["extraTemplate",""],[1,"descriptions-info",3,"nzColumn","nzColon"],["nzTitle","DID",3,"nzSpan"],["nzTitle","Transaction Type"],["nzTitle","Amount"],["nzTitle","Source Currency"],["nzTitle","Target Currency"],["nzTitle","Source Account Address"],["nzTitle","Target Account Address"],["nzTitle","TN Name"],["nzTitle","TN Code"],["nzTitle","Target TN Name",4,"ngIf"],["nzTitle","Target TN Code",4,"ngIf"],["nzTitle","Service Fee"],["nzTitle","Rate"],["nzTitle","Total Amount"],["nzTitle","Received Amount",3,"nzSpan"],["nzTitle","Submission Time"],["nzTitle","Status",3,"nzSpan"],["nzTitle","Transaction Key",3,"nzSpan"],["nzTitle","Circulation Information",3,"nzBordered"],[4,"ngIf"],["nzTitle","Txn Settlement",3,"nzBordered"],[1,"mb-11","w-full","text-right"],["nz-button","","nzType","primary","routerLink","/sandBox/transaction/query/list"],["src","../../../../assets/images/WEB.png","class","w-14","alt","",4,"nzSpaceItem"],["src","../../../../assets/images/API (1).png","class","w-14","alt","",4,"nzSpaceItem"],["src","../../../../assets/images/WEB.png","alt","",1,"w-14"],["src","../../../../assets/images/API (1).png","alt","",1,"w-14"],["nzTitle","Target TN Name"],["nzTitle","Target TN Code"],["nz-row","",3,"ngClass"],["nz-col","","nzSpan","20","nzOffset","2"],[1,"time-line"],["nzMode","left"],[3,"nzDot"],[2,"height","100px"],[1,"font-bold","text-xl"],[3,"nzDot","nzLabel"],[1,"time-list"],["nz-tooltip","",3,"nzTooltipTitle","nzTooltipPlacement"],["left8",""],[2,"height","180px"],[1,"time-card",3,"ngClass"],["left9",""],["left2",""],[2,"height","180px",3,"ngClass"],["left1",""],[1,"tn1Procssd",3,"nzDot","nzLabel"],["left3",""],["dotTemplate",""],["dotTemplates",""],[1,"line-b"],[1,"time-card-error"],[1,"flex","mt-5","w-24"],[1,"ghj","w-8","h-8","rounded-full"],[1,"font-bold","text-xl","ml-1"],["left4",""],["left5",""],[1,"line-b",3,"ngClass"],[1,"ghj","w-8","h-8","rounded-full",3,"ngClass"],["src","../../../../assets/images/vn/poiner.png","alt","",1,"points"],[1,"ghj","w-8","h-8","rounded-full","lastPoints"]],template:function(n,i){if(1&n&&(t.TgZ(0,"div"),t.TgZ(1,"div",0),t.TgZ(2,"nz-breadcrumb"),t.TgZ(3,"nz-breadcrumb-item"),t._uU(4,"Transaction Management"),t.qZA(),t.TgZ(5,"nz-breadcrumb-item"),t.TgZ(6,"a",1),t._uU(7,"Transactions Search"),t.qZA(),t.qZA(),t.TgZ(8,"nz-breadcrumb-item",2),t._uU(9,"Info"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(10,"div",3),t.TgZ(11,"div",4),t._UZ(12,"nz-card",5),t.YNc(13,K,4,0,"ng-template",null,6,t.W1O),t.TgZ(15,"nz-descriptions",7),t.TgZ(16,"nz-descriptions-item",8),t._uU(17),t.qZA(),t.TgZ(18,"nz-descriptions-item",9),t._uU(19),t.qZA(),t.TgZ(20,"nz-descriptions-item",10),t._uU(21),t.ALo(22,"thousandSeparator"),t.qZA(),t.TgZ(23,"nz-descriptions-item",11),t._uU(24),t.qZA(),t.TgZ(25,"nz-descriptions-item",12),t._uU(26),t.qZA(),t.TgZ(27,"nz-descriptions-item",13),t._uU(28),t.qZA(),t.TgZ(29,"nz-descriptions-item",14),t._uU(30),t.qZA(),t.TgZ(31,"nz-descriptions-item",15),t._uU(32),t.qZA(),t.TgZ(33,"nz-descriptions-item",16),t._uU(34),t.qZA(),t.YNc(35,E,2,1,"nz-descriptions-item",17),t.YNc(36,k,2,1,"nz-descriptions-item",18),t.TgZ(37,"nz-descriptions-item",19),t._uU(38),t.ALo(39,"thousandSeparator"),t.qZA(),t.TgZ(40,"nz-descriptions-item",20),t._uU(41),t.ALo(42,"thousandSeparator"),t.qZA(),t.TgZ(43,"nz-descriptions-item",21),t._uU(44),t.ALo(45,"thousandSeparator"),t.qZA(),t.TgZ(46,"nz-descriptions-item",22),t._uU(47),t.ALo(48,"thousandSeparator"),t.qZA(),t.TgZ(49,"nz-descriptions-item",23),t._uU(50),t.ALo(51,"translate"),t.ALo(52,"custom"),t.qZA(),t.TgZ(53,"nz-descriptions-item",24),t._uU(54),t.ALo(55,"vnStatus"),t.qZA(),t.TgZ(56,"nz-descriptions-item",25),t._uU(57),t.qZA(),t.qZA(),t._UZ(58,"nz-card",26),t.YNc(59,ct,83,69,"ng-container",27),t._UZ(60,"nz-card",28),t.TgZ(61,"div",29),t.TgZ(62,"button",30),t._uU(63," Back "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&n){const l=t.MAs(14);t.xp6(12),t.Q6J("nzExtra",l)("nzBordered",!1),t.xp6(3),t.Q6J("nzColumn",2)("nzColon",!1),t.xp6(1),t.Q6J("nzSpan",3),t.xp6(1),t.Oqu(i.info.did),t.xp6(2),t.hij("",i.info.transType," "),t.xp6(2),t.AsE("",t.lcZ(22,32,i.info.transAmount)," ",i.info.fromCurrencyType.split("-")[0],""),t.xp6(3),t.hij("",i.info.fromCurrencyType," "),t.xp6(2),t.hij("",i.info.toCurrencyType," "),t.xp6(2),t.hij(" ",i.info.sourceAccountAddress," "),t.xp6(2),t.hij(" ",i.info.targetAccountAddress," "),t.xp6(2),t.hij(" ",i.info.originalTnName," "),t.xp6(2),t.hij(" ",i.info.originalTnCode," "),t.xp6(1),t.Q6J("ngIf","Swap"===i.info.transType),t.xp6(1),t.Q6J("ngIf","Swap"===i.info.transType),t.xp6(2),t.AsE("",t.lcZ(39,34,i.info.transFee)," ",i.info.fromCurrencyType.split("-")[0],""),t.xp6(3),t.Oqu("--"===i.info.fxRate||null===i.info.fxRate?"--":t.lcZ(42,36,i.info.fxRate)),t.xp6(3),t.AsE(" ",t.lcZ(45,38,i.info.totalAmount)," ",i.info.fromCurrencyType.split("-")[0]," "),t.xp6(2),t.Q6J("nzSpan",3),t.xp6(1),t.AsE(" ",t.lcZ(48,40,i.info.toAmount)," ",i.info.toCurrencyType.split("-")[0]," "),t.xp6(3),t.hij(" ",t.lcZ(51,42,t.xi3(52,44,i.info.submitTime,"date"))," "),t.xp6(3),t.Q6J("nzSpan",3),t.xp6(1),t.hij(" ",t.lcZ(55,47,i.info.transStatus)," "),t.xp6(3),t.hij(" ",i.info.transKey," "),t.xp6(1),t.Q6J("nzBordered",!1),t.xp6(1),t.Q6J("ngIf",i.timeLineList.length>0),t.xp6(1),t.Q6J("nzBordered",!1)}},directives:[T.Dg,T.MO,g.yS,f.SK,f.t3,x.bd,z.NU,z.$1,h.R7,h.uj,d.O5,d.mk,q.PD,q.Zv,v.SY,y.ix,U.dQ,C.w,g.rH],pipes:[b.A,S.X$,Q.G,N.z],styles:[".inner-content[_ngcontent-%COMP%]{padding:24px;background:#fff;height:100%}.title-color[_ngcontent-%COMP%]{margin-left:5px;color:#3c5686}.search-area[_ngcontent-%COMP%]{text-align:end}.time-line[_ngcontent-%COMP%]{text-align:center;margin-bottom:5rem;font-size:1.2rem;font-weight:500;color:#3c5686}.time-card[_ngcontent-%COMP%]{height:78px;width:320px;background-color:#3c5686;color:#fff;display:flex;flex-direction:column;justify-content:center;align-items:center;box-shadow:10px 5px 15px #3c5686}.time-card-error[_ngcontent-%COMP%]{height:78px;width:320px;background-color:#c7000b;color:#fff;display:flex;flex-direction:column;justify-content:center;align-items:center;box-shadow:10px 5px 15px #c7000b}.time-card-gray[_ngcontent-%COMP%]{background-color:#948f8f!important;box-shadow:10px 5px 15px #948f8f!important}.time-list[_ngcontent-%COMP%]{line-height:40px;width:540px}.descriptions-info[_ngcontent-%COMP%]{margin-left:50px;margin-bottom:60px}.ghj[_ngcontent-%COMP%]{background-color:#3c5686}.line-b[_ngcontent-%COMP%]{height:1px;border-bottom:2px solid #3c5686;width:60px;margin-top:36px}"]}),e})();var mt=s(3640),_=s(4546),pt=s(1047),P=s(8054),O=s(2905),Z=s(939);function gt(e,o){if(1&e&&t._UZ(0,"nz-option",43),2&e){const n=o.$implicit;t.Q6J("nzValue",n.currencyName)("nzLabel",n.currencyName)}}function ut(e,o){if(1&e&&t._UZ(0,"nz-option",43),2&e){const n=o.$implicit;t.Q6J("nzValue",n.platformName)("nzLabel",n.platformName)}}function Zt(e,o){if(1&e&&t._UZ(0,"nz-option",43),2&e){const n=o.$implicit;t.Q6J("nzValue",n.currencyName)("nzLabel",n.currencyName)}}function dt(e,o){if(1&e&&t._UZ(0,"nz-option",43),2&e){const n=o.$implicit;t.Q6J("nzValue",n.platformName)("nzLabel",n.platformName)}}function Tt(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"button",44),t.NdJ("click",function(){return t.CHM(n),t.oxw().onSearch()}),t._uU(1," Query "),t.qZA()}if(2&e){const n=t.oxw();t.Q6J("nzType","primary")("nzLoading",n.isLoading)}}function ft(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"button",45),t.NdJ("click",function(){return t.CHM(n),t.oxw().resetForm()}),t._uU(1," Clear "),t.qZA()}}function zt(e,o){1&e&&(t.TgZ(0,"a"),t._UZ(1,"img",46),t.qZA())}const _t=function(){return["/sandBox/transaction/query/info"]},At=function(e,o){return{transType:e,transId:o}};function Lt(e,o){if(1&e&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t.TgZ(4,"span",47),t._uU(5),t.qZA(),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.ALo(12,"thousandSeparator"),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.qZA(),t.TgZ(15,"td"),t._uU(16),t.ALo(17,"translate"),t.ALo(18,"custom"),t.qZA(),t.TgZ(19,"td"),t._uU(20),t.ALo(21,"vnStatus"),t.qZA(),t.TgZ(22,"td"),t.TgZ(23,"a",48),t._uU(24,"Detail"),t.qZA(),t.qZA(),t.qZA()),2&e){const n=o.$implicit;t.xp6(2),t.Oqu(n.did),t.xp6(2),t.Q6J("nzTooltipTitle",n.transKey)("nzTooltipPlacement","right"),t.xp6(1),t.Oqu(n.transKey.slice(0,8)+"..."),t.xp6(2),t.Oqu(n.transType),t.xp6(2),t.Oqu(n.fromCurrencyType),t.xp6(2),t.Oqu(t.lcZ(12,12,n.transAmount)),t.xp6(3),t.Oqu(n.toCurrencyType),t.xp6(2),t.Oqu(t.lcZ(17,14,t.xi3(18,16,n.submitTime,"date"))),t.xp6(4),t.Oqu(t.lcZ(21,19,n.transStatus)),t.xp6(3),t.Q6J("routerLink",t.DdM(21,_t))("queryParams",t.WLB(22,At,n.transType,n.transId))}}let j=(()=>{class e{constructor(n,i,l,a){this.fb=n,this.modalService=i,this.bnNodeService=l,this.date=a,this.loading=!0,this.pageSize=10,this.pageIndex=1,this.total=1,this.isLoading=!1,this.dateFormat="yyyy/MM/dd",this.platfromArrList=[],this.curryArrList=[],this.listOfRandomUser=[]}ngOnInit(){this.initFormBuilder(),this.initData()}initFormBuilder(){this.validateForm=this.fb.group({did:[""],transKey:[""],transType:[""],fromPlatformType:[""],fromCurrencyType:[""],toPlatformType:[""],toCurrencyType:[""],createTime:[""],transStatus:[""]})}initData(){this.bnNodeService.getCurry().subscribe(n=>{this.curryArrList=n.data}),this.bnNodeService.getPlatm().subscribe(n=>{this.platfromArrList=n.data})}onQueryParamsChange(n){const{pageSize:i,pageIndex:l}=n;this.loadDataFromServer(l,i,null,null,this.validateForm.value)}loadDataFromServer(n,i,l,a,p){this.loading=!0,this.bnNodeService.search(n,i,l,a,p).subscribe(c=>{this.loading=!1,this.total=c.resultPageInfo.total,this.listOfRandomUser=c.data})}resetForm(){this.initFormBuilder(),this.initData(),this.validateForm.get("createTime").setValue(""),this.loadDataFromServer(this.pageIndex,this.pageSize,null,null,this.validateForm.value)}onSearch(){this.onQueryParamsChange({pageIndex:this.pageIndex,pageSize:this.pageSize,sort:[],filter:this.validateForm.value})}onChange(n,i){}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(m.qu),t.Y36(mt.Sf),t.Y36(L.u),t.Y36(d.uU))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-list"]],decls:123,vars:27,consts:[[1,"ctx-titles"],[1,"font-semibold"],["nz-row","",1,"inner-content"],["nz-col","","nzSpan","24","nzOffset",""],["nzTitle","Query",3,"nzExtra","nzBordered"],["nz-form","","nzLayout","vertical",1,"ant-advanced-search-form",3,"formGroup"],["nz-row","",3,"nzGutter"],["nz-col","",3,"nzSpan"],["nz-input","","placeholder","DID","formControlName","did"],["nz-input","","placeholder","Txn Key","formControlName","transKey"],["nzPlaceHolder","Txn Type ","formControlName","transType"],["nzValue","","nzLabel","All"],["nzValue","Transfer","nzLabel","Transfer"],["nzValue","Swap","nzLabel","Swap"],["nzPlaceHolder","Source Currency","formControlName","fromCurrencyType"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],["nzPlaceHolder","Source PlatformType  ","formControlName","fromPlatformType"],["nzPlaceHolder","Target Currency ","formControlName","toCurrencyType"],["nzPlaceHolder","Target PlatformType","formControlName","toPlatformType"],["formControlName","createTime",2,"width","100%",3,"nzFormat"],["nzPlaceHolder","Status","formControlName","transStatus"],["nzValue","1","nzLabel","Pending"],["nzValue","2","nzLabel","TN1 processing"],["nzValue","3","nzLabel","TN1 processed successfully"],["nzValue","4","nzLabel","TN1 failed"],["nzValue","5","nzLabel","TN2 processing"],["nzValue","6","nzLabel","TN2 processed successfully"],["nzValue","7","nzLabel","TN2 failed"],["nzValue","8","nzLabel","Refunding"],["nzValue","9","nzLabel","Refund successfully"],["nzValue","10","nzLabel","Refund failed"],["nzValue","11","nzLabel","Revoke successfully"],["nzValue","2000","nzLabel","BN Init(local init)"],["nzValue","2005","nzLabel","submitted vn"],["nz-row",""],["nz-col","",1,"search-area",3,"nzSpan"],["nz-button","",3,"nzType","nzLoading","click",4,"nzSpaceItem"],["nz-button","",3,"click",4,"nzSpaceItem"],["extraTemplate",""],["nzTitle","List",3,"nzBordered"],[3,"nzData","nzFrontPagination","nzLoading","nzTotal","nzPageSize","nzPageIndex","nzQueryParams"],["basicTable",""],[4,"ngFor","ngForOf"],[3,"nzValue","nzLabel"],["nz-button","",3,"nzType","nzLoading","click"],["nz-button","",3,"click"],["src","../../../../assets/images/API (1).png","alt","",1,"w-14"],["nz-tooltip","",3,"nzTooltipTitle","nzTooltipPlacement"],[3,"routerLink","queryParams"]],template:function(n,i){if(1&n&&(t.TgZ(0,"div"),t.TgZ(1,"div",0),t.TgZ(2,"nz-breadcrumb"),t.TgZ(3,"nz-breadcrumb-item"),t._uU(4,"Transaction Management"),t.qZA(),t.TgZ(5,"nz-breadcrumb-item",1),t._uU(6,"Transactions Search"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(7,"div",2),t.TgZ(8,"div",3),t.TgZ(9,"nz-card",4),t.TgZ(10,"form",5),t.TgZ(11,"div",6),t.TgZ(12,"div",7),t.TgZ(13,"nz-form-item"),t.TgZ(14,"nz-form-label"),t._uU(15,"DID"),t.qZA(),t.TgZ(16,"nz-form-control"),t._UZ(17,"input",8),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"div",7),t.TgZ(19,"nz-form-item"),t.TgZ(20,"nz-form-label"),t._uU(21,"Txn Key "),t.qZA(),t.TgZ(22,"nz-form-control"),t._UZ(23,"input",9),t.qZA(),t.qZA(),t.qZA(),t.TgZ(24,"div",7),t.TgZ(25,"nz-form-item"),t.TgZ(26,"nz-form-label"),t._uU(27,"Txn Type "),t.qZA(),t.TgZ(28,"nz-form-control"),t.TgZ(29,"nz-select",10),t._UZ(30,"nz-option",11),t._UZ(31,"nz-option",12),t._UZ(32,"nz-option",13),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(33,"div",7),t.TgZ(34,"nz-form-item"),t.TgZ(35,"nz-form-label"),t._uU(36,"Source Currency "),t.qZA(),t.TgZ(37,"nz-form-control"),t.TgZ(38,"nz-select",14),t._UZ(39,"nz-option",11),t.YNc(40,gt,1,2,"nz-option",15),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(41,"div",7),t.TgZ(42,"nz-form-item"),t.TgZ(43,"nz-form-label"),t._uU(44,"Source PlatformType "),t.qZA(),t.TgZ(45,"nz-form-control"),t.TgZ(46,"nz-select",16),t._UZ(47,"nz-option",11),t.YNc(48,ut,1,2,"nz-option",15),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(49,"div",7),t.TgZ(50,"nz-form-item"),t.TgZ(51,"nz-form-label"),t._uU(52,"Target Currency "),t.qZA(),t.TgZ(53,"nz-form-control"),t.TgZ(54,"nz-select",17),t._UZ(55,"nz-option",11),t.YNc(56,Zt,1,2,"nz-option",15),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(57,"div",7),t.TgZ(58,"nz-form-item"),t.TgZ(59,"nz-form-label"),t._uU(60,"Target PlatformType "),t.qZA(),t.TgZ(61,"nz-form-control"),t.TgZ(62,"nz-select",18),t._UZ(63,"nz-option",11),t.YNc(64,dt,1,2,"nz-option",15),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(65,"div",7),t.TgZ(66,"nz-form-item"),t.TgZ(67,"nz-form-label"),t._uU(68,"Transaction Submit Date "),t.qZA(),t.TgZ(69,"nz-form-control"),t._UZ(70,"nz-range-picker",19),t.qZA(),t.qZA(),t.qZA(),t.TgZ(71,"div",7),t.TgZ(72,"nz-form-item"),t.TgZ(73,"nz-form-label"),t._uU(74,"Status "),t.qZA(),t.TgZ(75,"nz-form-control"),t.TgZ(76,"nz-select",20),t._UZ(77,"nz-option",11),t._UZ(78,"nz-option",21),t._UZ(79,"nz-option",22),t._UZ(80,"nz-option",23),t._UZ(81,"nz-option",24),t._UZ(82,"nz-option",25),t._UZ(83,"nz-option",26),t._UZ(84,"nz-option",27),t._UZ(85,"nz-option",28),t._UZ(86,"nz-option",29),t._UZ(87,"nz-option",30),t._UZ(88,"nz-option",31),t._UZ(89,"nz-option",32),t._UZ(90,"nz-option",33),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(91,"div",34),t.TgZ(92,"div",35),t.TgZ(93,"nz-space"),t.YNc(94,Tt,2,2,"button",36),t.YNc(95,ft,2,0,"button",37),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(96,zt,2,0,"ng-template",null,38,t.W1O),t.TgZ(98,"nz-card",39),t.TgZ(99,"nz-table",40,41),t.NdJ("nzQueryParams",function(a){return i.onQueryParamsChange(a)}),t.TgZ(101,"thead"),t.TgZ(102,"tr"),t.TgZ(103,"th"),t._uU(104,"DID"),t.qZA(),t.TgZ(105,"th"),t._uU(106,"Txn Key"),t.qZA(),t.TgZ(107,"th"),t._uU(108,"Txn Type"),t.qZA(),t.TgZ(109,"th"),t._uU(110,"Source Currency"),t.qZA(),t.TgZ(111,"th"),t._uU(112,"Amount"),t.qZA(),t.TgZ(113,"th"),t._uU(114,"Target Currency"),t.qZA(),t.TgZ(115,"th"),t._uU(116,"Submission Time"),t.qZA(),t.TgZ(117,"th"),t._uU(118,"Status"),t.qZA(),t.TgZ(119,"th"),t._uU(120,"Action"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(121,"tbody"),t.YNc(122,Lt,25,25,"tr",42),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&n){const l=t.MAs(97),a=t.MAs(100);t.xp6(9),t.Q6J("nzExtra",l)("nzBordered",!1),t.xp6(1),t.Q6J("formGroup",i.validateForm),t.xp6(1),t.Q6J("nzGutter",24),t.xp6(1),t.Q6J("nzSpan",6),t.xp6(6),t.Q6J("nzSpan",6),t.xp6(6),t.Q6J("nzSpan",6),t.xp6(9),t.Q6J("nzSpan",6),t.xp6(7),t.Q6J("ngForOf",i.curryArrList),t.xp6(1),t.Q6J("nzSpan",6),t.xp6(7),t.Q6J("ngForOf",i.platfromArrList),t.xp6(1),t.Q6J("nzSpan",6),t.xp6(7),t.Q6J("ngForOf",i.curryArrList),t.xp6(1),t.Q6J("nzSpan",6),t.xp6(7),t.Q6J("ngForOf",i.platfromArrList),t.xp6(1),t.Q6J("nzSpan",6),t.xp6(5),t.Q6J("nzFormat",i.dateFormat),t.xp6(1),t.Q6J("nzSpan",6),t.xp6(21),t.Q6J("nzSpan",24),t.xp6(6),t.Q6J("nzBordered",!1),t.xp6(1),t.Q6J("nzData",i.listOfRandomUser)("nzFrontPagination",!1)("nzLoading",i.loading)("nzTotal",i.total)("nzPageSize",i.pageSize)("nzPageIndex",i.pageIndex),t.xp6(23),t.Q6J("ngForOf",a.data)}},directives:[T.Dg,T.MO,f.SK,f.t3,x.bd,m._Y,m.JL,_.Lr,m.sg,_.Nx,_.iK,_.Fd,pt.Zp,m.Fj,m.JJ,m.u,P.Vq,P.Ip,d.sg,O.uw,O.wS,z.NU,z.$1,y.ix,U.dQ,C.w,Z.N8,Z.Om,Z.$Z,Z.Uo,Z._C,Z.p0,v.SY,g.yS],pipes:[b.A,S.X$,Q.G,N.z],styles:[".inner-content[_ngcontent-%COMP%]{padding:24px;background:#fff;height:100%}.title-color[_ngcontent-%COMP%]{margin-left:5px;color:#3c5686}.search-area[_ngcontent-%COMP%]{text-align:end}.time-line[_ngcontent-%COMP%]{text-align:center;margin-bottom:5rem;font-size:1.2rem;font-weight:500;color:#3c5686}.time-card[_ngcontent-%COMP%]{height:78px;width:320px;background-color:#3c5686;color:#fff;display:flex;flex-direction:column;justify-content:center;align-items:center;box-shadow:10px 5px 15px #3c5686}.time-list[_ngcontent-%COMP%]{line-height:40px}"]}),e})(),M=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-transaction-query"]],decls:1,vars:0,template:function(n,i){1&n&&t._UZ(0,"router-outlet")},directives:[g.lC],encapsulation:2}),e})();const xt=[{path:"",component:M,children:[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:j},{path:"info",component:I}]}];let ht=(()=>{class e{}return e.more=[M,j,I],e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[g.Bz.forChild(xt)],g.Bz]}),e})(),qt=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[d.ez,ht,m.u5,m.UX,D.m]]}),e})()}}]);