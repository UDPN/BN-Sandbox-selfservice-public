"use strict";(self.webpackChunkudpn_b=self.webpackChunkudpn_b||[]).push([[656],{9656:(L,A,o)=>{o.r(A),o.d(A,{TransactionStatisticalModule:()=>V});var d=o(9808),l=o(3075),f=o(88),g=o(4521),t=o(5e3),c=o(5996),y=o(4004);let e=(()=>{class r{}return r.amount="v1/udpn/processing/transfer/manage/transaction/amount/select",r.number="v1/udpn/processing/transfer/manage/transaction/number/select",r})();var u=o(520);let m=(()=>{class r{constructor(a){this.http=a}amount(a){return this.http.post(e.amount,{currencyType:a.currencyType||"",platformType:a.platformType||"",transDateType:a.transDateType||"",transType:a.transType||""}).pipe((0,y.U)(i=>i))}number(a){return this.http.post(e.number,{currencyType:a.currencyType||"",platformType:a.platformType||"",transDateType:a.transDateType||"",transType:"All"===a.transType?"":a.transType}).pipe((0,y.U)(i=>i))}}return r.\u0275fac=function(a){return new(a||r)(t.LFG(u.eN))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var C=o(112),z=o(1758),Z=o(1894),F=o(7484),v=o(4546),U=o(843),b=o(8054),w=o(6042),D=o(2643),M=o(2683),N=o(1496),J=o(8144);function B(r,p){1&r&&(t.TgZ(0,"div"),t.TgZ(1,"nz-space"),t._UZ(2,"img",21),t._UZ(3,"img",22),t.qZA(),t.qZA())}function Q(r,p){1&r&&(t.TgZ(0,"div",23),t._uU(1,"Transaction Volume"),t.qZA())}let S=(()=>{class r{constructor(a,n,i,s){this.fb=a,this.bnNodeService=n,this.transactionStatisticalService=i,this.transactionSwapService=s,this.nzOptions=[],this.nzOption=[],this.view=[1400,300],this.legend=!0,this.showLabels=!0,this.animations=!0,this.xAxis=!0,this.yAxis=!0,this.showYAxisLabel=!0,this.showXAxisLabel=!0,this.xAxisLabel="Total Transaction Value :0",this.yAxisLabel="Population",this.xAxisLabel1="Total Transactions :0",this.yAxisLabel1="Population",this.timeline=!0,this.value=[],this.values=[],this.colorScheme={domain:["#5AA454","#E44D25","#CFC0BB","#7aa3e5","#a8385d","#aae3f5"]},this.multi2=[{name:"Germany",series:[{name:"1990",value:62e6},{name:"2010",value:73e6},{name:"2011",value:894e5}]}]}ngOnInit(){this.initValidateFrom(),this.getScreenWidth=window.innerWidth,this.view=[this.getScreenWidth-600,300],this.fetchNumber(),this.getPalt()}getPalt(){this.transactionSwapService.fetchTypes().subscribe(a=>{let n=[{value:"All",label:"All",children:[{value:"All",label:"All",isLeaf:!0}]}];a.data.forEach(i=>{let s=[];i.platformList.forEach(T=>{s.push({value:T,label:T,isLeaf:!0})}),n.push({value:i.currencyName,label:i.currencyName,children:s})}),this.nzOptions=n,this.nzOption=n.slice(1),this.values=["All","All"],this.value=[this.nzOption[0].value,this.nzOption[0].children[0].value],this.validateForm1.get("currencyType").setValue(this.value),this.fetchAmount(this.validateForm1.value)})}fetchAmount(a=this.validateForm1.value){this.transactionStatisticalService.amount({currencyType:a.currencyType[0],platformType:a.currencyType[1],transDateType:a.transDateType,transType:"All"===a.transType?"":a.transType}).subscribe(i=>{if(0===i.code){this.xAxisLabel1="Total Transaction Value : "+String(i.data.totalAmount).replace(/\d{1,3}(?=(\d{3})+(\.|$))/gy,"$&,")+i.data.currencyType;let s=[];if(i.data.outTransferManageTransactionAmountSelectSubList.length>0){let T=[];i.data.outTransferManageTransactionAmountSelectSubList.forEach(h=>{T.push({name:h.transDate,value:h.transAmount.toString().replace(/\d{1,3}(?=(\d{3})+(\.|$))/gy,"$&,")})}),s.push({name:i.data.currencyType,series:T}),this.multi1=s,Object.assign(this,{multi1:s})}else this.multi1=s,Object.assign(this,{multi1:s})}})}fetchNumber(a=this.validateForm.value){this.transactionStatisticalService.number(a).subscribe(n=>{if(0===n.code){this.xAxisLabel="Total Transactions : "+String(n.data.totalNum).replace(/\d{1,3}(?=(\d{3})+(\.|$))/gy,"$&,");let i=[];n.data.outTransferManageTransactionNumberSelectSubList.length>0?n.data.outTransferManageTransactionNumberSelectSubList.forEach(s=>{let T=[];s.outTransferManageTransactionNumberSelectSubSubList.forEach(h=>{T.push({name:h.transDate,value:h.transNum.toString().replace(/\d{1,3}(?=(\d{3})+(\.|$))/gy,"$&,")})}),i.push({name:s.currencyType,series:T}),this.multi=i,Object.assign(this,{multi:i})}):(this.multi=i,Object.assign(this,{multi:i}))}})}onWindowResize(){this.getScreenWidth=window.innerWidth,this.view=[this.getScreenWidth-600,300]}onQuery(){let a;a=""!==this.validateForm.get("currencyType").value?{currencyType:"All"===this.validateForm.get("currencyType").value[0]?"":this.validateForm.get("currencyType").value[0],platformType:"All"===this.validateForm.get("currencyType").value[1]?"":this.validateForm.get("currencyType").value[1],transDateType:this.validateForm.get("transDateType").value,transType:this.validateForm.get("transType").value}:{currencyType:"",platformType:"",transDateType:this.validateForm.get("transDateType").value,transType:this.validateForm.get("transType").value},this.fetchNumber(a)}onQuery1(){let a;a=""!==this.validateForm1.get("currencyType").value?{currencyType:this.validateForm1.get("currencyType").value,platformType:this.validateForm1.get("currencyType").value,transDateType:this.validateForm1.get("transDateType").value,transType:this.validateForm1.get("transType").value}:{currencyType:"",platformType:"",transDateType:this.validateForm1.get("transDateType").value,transType:this.validateForm1.get("transType").value},this.fetchAmount(a)}initValidateFrom(){this.validateForm=this.fb.group({currencyType:[""],transDateType:["1"],transType:[""]}),this.validateForm1=this.fb.group({currencyType:[""],transDateType:["1"],transType:[""]})}}return r.\u0275fac=function(a){return new(a||r)(t.Y36(l.qu),t.Y36(c.u),t.Y36(m),t.Y36(C.e))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-list"]],hostBindings:function(a,n){1&a&&t.NdJ("resize",function(s){return n.onWindowResize(s)},!1,t.Jf7)},decls:73,vars:42,consts:[[1,"ctx-titles"],[1,"font-semibold"],["nz-row","",1,"statistical-main"],["nz-col","","nzSpan","24","nzOffset",""],[3,"nzTitle","nzExtra","nzBordered"],["nz-form","",1,"ant-advanced-search-form",3,"formGroup"],["nz-row","",3,"nzGutter"],["nz-col","",3,"nzSpan"],["formControlName","currencyType",3,"nzOptions","ngModel","ngModelChange"],["formControlName","transType","nzPlaceHolder","All"],["nzValue","","nzLabel","All"],["nzValue","Transfer","nzLabel","Transfer"],["nzValue","Swap","nzLabel","Swap"],["formControlName","transDateType","nzPlaceHolder","All"],["nzValue","1","nzLabel","Last 7 Days"],["nzValue","2","nzLabel","Last 30 Days"],["nz-button","","nzType","primary",3,"click"],[3,"view","scheme","legend","showXAxisLabel","showYAxisLabel","xAxis","yAxis","xAxisLabel","yAxisLabel","timeline","results"],["nzTitle","Transaction Value",3,"nzBordered"],["extraTemplate",""],["title",""],["src","../../../../assets/images/WEB.png","alt","",1,"w-14",2,"margin-left","5px"],["src","../../../../assets/images/API (1).png","alt","",1,"w-14",2,"margin-left","5px"],[1,"md:text-sm","xl:text-sm","nzXXl:text-base"]],template:function(a,n){if(1&a&&(t.TgZ(0,"div"),t.TgZ(1,"div",0),t.TgZ(2,"nz-breadcrumb"),t.TgZ(3,"nz-breadcrumb-item"),t._uU(4,"Transaction Management"),t.qZA(),t.TgZ(5,"nz-breadcrumb-item",1),t._uU(6,"Data Analysis "),t.qZA(),t.qZA(),t.qZA(),t.TgZ(7,"div",2),t.TgZ(8,"div",3),t.TgZ(9,"nz-card",4),t.TgZ(10,"form",5),t.TgZ(11,"div",6),t.TgZ(12,"div",7),t.TgZ(13,"nz-form-item"),t.TgZ(14,"nz-form-label"),t._uU(15,"Currency Type"),t.qZA(),t.TgZ(16,"nz-form-control"),t.TgZ(17,"nz-cascader",8),t.NdJ("ngModelChange",function(s){return n.values=s}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"div",7),t.TgZ(19,"nz-form-item"),t.TgZ(20,"nz-form-label"),t._uU(21,"Transaction Type"),t.qZA(),t.TgZ(22,"nz-form-control"),t.TgZ(23,"nz-select",9),t._UZ(24,"nz-option",10),t._UZ(25,"nz-option",11),t._UZ(26,"nz-option",12),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(27,"div",7),t.TgZ(28,"nz-form-item"),t.TgZ(29,"nz-form-label"),t._uU(30,"Period"),t.qZA(),t.TgZ(31,"nz-form-control"),t.TgZ(32,"nz-select",13),t._UZ(33,"nz-option",14),t._UZ(34,"nz-option",15),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(35,"div",7),t.TgZ(36,"button",16),t.NdJ("click",function(){return n.onQuery()}),t._uU(37," Query "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(38,"ngx-charts-line-chart",17),t.qZA(),t.TgZ(39,"nz-card",18),t.TgZ(40,"form",5),t.TgZ(41,"div",6),t.TgZ(42,"div",7),t.TgZ(43,"nz-form-item"),t.TgZ(44,"nz-form-label"),t._uU(45,"Currency Type"),t.qZA(),t.TgZ(46,"nz-form-control"),t.TgZ(47,"nz-cascader",8),t.NdJ("ngModelChange",function(s){return n.value=s}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(48,"div",7),t.TgZ(49,"nz-form-item"),t.TgZ(50,"nz-form-label"),t._uU(51,"Transaction Type"),t.qZA(),t.TgZ(52,"nz-form-control"),t.TgZ(53,"nz-select",9),t._UZ(54,"nz-option",10),t._UZ(55,"nz-option",11),t._UZ(56,"nz-option",12),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(57,"div",7),t.TgZ(58,"nz-form-item"),t.TgZ(59,"nz-form-label"),t._uU(60,"Period"),t.qZA(),t.TgZ(61,"nz-form-control"),t.TgZ(62,"nz-select",13),t._UZ(63,"nz-option",14),t._UZ(64,"nz-option",15),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(65,"div",7),t.TgZ(66,"button",16),t.NdJ("click",function(){return n.onQuery1()}),t._uU(67," Query "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(68,"ngx-charts-line-chart",17),t.qZA(),t.YNc(69,B,4,0,"ng-template",null,19,t.W1O),t.qZA(),t.qZA(),t.qZA(),t.YNc(71,Q,2,0,"ng-template",null,20,t.W1O)),2&a){const i=t.MAs(70),s=t.MAs(72);t.xp6(9),t.Q6J("nzTitle",s)("nzExtra",i)("nzBordered",!1),t.xp6(1),t.Q6J("formGroup",n.validateForm),t.xp6(1),t.Q6J("nzGutter",24),t.xp6(1),t.Q6J("nzSpan",6),t.xp6(5),t.Q6J("nzOptions",n.nzOptions)("ngModel",n.values),t.xp6(1),t.Q6J("nzSpan",6),t.xp6(9),t.Q6J("nzSpan",6),t.xp6(8),t.Q6J("nzSpan",6),t.xp6(3),t.Q6J("view",n.view)("scheme",n.colorScheme)("legend",n.legend)("showXAxisLabel",n.showXAxisLabel)("showYAxisLabel",n.showYAxisLabel)("xAxis",n.xAxis)("yAxis",n.yAxis)("xAxisLabel",n.xAxisLabel)("yAxisLabel",n.yAxisLabel)("timeline",n.timeline)("results",n.multi),t.xp6(1),t.Q6J("nzBordered",!1),t.xp6(1),t.Q6J("formGroup",n.validateForm1),t.xp6(1),t.Q6J("nzGutter",24),t.xp6(1),t.Q6J("nzSpan",6),t.xp6(5),t.Q6J("nzOptions",n.nzOption)("ngModel",n.value),t.xp6(1),t.Q6J("nzSpan",6),t.xp6(9),t.Q6J("nzSpan",6),t.xp6(8),t.Q6J("nzSpan",6),t.xp6(3),t.Q6J("view",n.view)("scheme",n.colorScheme)("legend",n.legend)("showXAxisLabel",n.showXAxisLabel)("showYAxisLabel",n.showYAxisLabel)("xAxis",n.xAxis)("yAxis",n.yAxis)("xAxisLabel",n.xAxisLabel1)("yAxisLabel",n.yAxisLabel1)("timeline",n.timeline)("results",n.multi1)}},directives:[z.Dg,z.MO,Z.SK,Z.t3,F.bd,l._Y,l.JL,v.Lr,l.sg,v.Nx,v.iK,v.Fd,U.D4,l.JJ,l.u,b.Vq,b.Ip,w.ix,D.dQ,M.w,N.Dw,J.NU],styles:[".inner-content[_ngcontent-%COMP%]{padding:24px;background:#fff;height:100%}.title-color[_ngcontent-%COMP%]{margin-left:5px;color:#3c5686}.statistical-main[_ngcontent-%COMP%]{margin:24px}"]}),r})(),x=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(a){return new(a||r)},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-transaction-statistical"]],decls:1,vars:0,template:function(a,n){1&a&&t._UZ(0,"router-outlet")},directives:[g.lC],encapsulation:2}),r})();const O=[{path:"",component:x,children:[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:S}]}];let P=(()=>{class r{}return r.more=[x,S],r.\u0275fac=function(a){return new(a||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[[g.Bz.forChild(O)],g.Bz]}),r})(),V=(()=>{class r{}return r.\u0275fac=function(a){return new(a||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[[d.ez,P,l.u5,l.UX,f.m]]}),r})()},112:(L,A,o)=>{o.d(A,{e:()=>t});var d=o(4004);let l=(()=>{class c{}return c.list="v1/udpn/processing/digital/currency/swap/manage/searchs",c.deal="v1/udpn/processing/digital/currency/swap/manage/save",c.fetchPlatformCurrencyApi="v1/udpn/processing/common/manage/platform/currency/select",c.getAccount="v1/udpn/processing/account/bind/manage/currency/account/select",c.getPermit="v1/udpn/processing/digital/currency/swap/manage/permit/select",c.getAccounts="v1/udpn/processing/business/account/bind/manage/currency/account/select",c.getAccountsVal="v1/udpn/processing/business/account/bind/manage/currency/account/select",c.getDid="v1/udpn/processing/business/account/bind/manage/did/select",c.fetchTypes="v1/udpn/processing/common/manage/currency/platform/select",c.bnFetchTypes="v1/udpn/processing/common/manage/active/currency/platform/select",c})();var f=o(5e3),g=o(520);let t=(()=>{class c{constructor(e){this.http=e}search(e){return this.http.post(l.list,{beneficiaryName:e.beneficiaryName,beneficiaryType:e.beneficiaryType,did:e.senderDid,formPlatformType:e.blockChain[1],fromBankAccount:e.senderBank,fromCurrencyType:e.blockChain[0],sourceAccountAddress:e.senderAccount,swapAmount:e.senderAmount,targetAccountAddress:e.beneficiaryAccount,toBankAccount:"none"===e.beneficiaryBank?"":e.beneficiaryBank,toCurrencyType:e.targetBlockChain[0],toPlatformType:e.targetBlockChain[1]}).pipe((0,d.U)(m=>m))}deal(e){return this.http.post(l.deal,{toPlatformType:e.toPlatformType||"",fromPlatformType:e.fromPlatformType||"",did:e.did||"",fromCurrencyType:e.fromCurrencyType||"",fxRate:e.fxRate||"",key:e.key||"",originalTnCode:e.originalTnCode||"",serviceFee:e.serviceFee||"",vnServiceFee:e.vnServiceFee||"",originalTnServiceFee:e.originalTnServiceFee||"",targetTnServiceFee:e.targetTnServiceFee||"",sourceAccountAddress:e.sourceAccountAddress||"",swapAmount:e.swapAmount||"",targetAccountAddress:e.targetAccountAddress||"",tnSecurityMsg:e.tnSecuryMsg||"",toCurrencyType:e.toCurrencyType||"",targetTnCode:e.targetTnCode||"",beneficiaryName:e.beneficiaryName||"",beneficiaryType:e.beneficiaryType||"",fromBankAccount:e.fromBankAccount||"",toAmount:e.toAmount||"",toBankAccount:e.toBankAccount||"",totalAmount:e.totalAmount||""}).pipe((0,d.U)(m=>m))}fetchPlatFrom(){return this.http.post(l.fetchPlatformCurrencyApi,{}).pipe((0,d.U)(e=>e))}getPermit(e){return this.http.post(l.getPermit,{privateKey:e.privateKey||"",serviceFee:e.serviceFee||"",sourceAccountAddress:e.sourceAccountAddress||"",transAmount:e.transAmount||"",originalTnCode:e.originalTnCode||"",swap:e.swap,targetAccountAddress:e.targetAccountAddress||""}).pipe((0,d.U)(m=>m))}getDid(e){return this.http.post(l.getDid,{businessAccount:e.businessAccount||""}).pipe((0,d.U)(m=>m))}getAccountVal(e){return this.http.post(l.getAccountsVal,{businessAccount:e.businessAccount||"",currencyType:e.currencyType||"",platformType:e.platformType||""}).pipe((0,d.U)(m=>m))}getAccount(e){return this.http.post(l.getAccounts,{did:e.did||"",currencyType:e.currencyType||"",platformType:e.platformType||""}).pipe((0,d.U)(m=>m))}fetchTypes(){return this.http.post(l.fetchTypes,{}).pipe((0,d.U)(e=>e))}bnFetchTypes(){return this.http.post(l.bnFetchTypes,{}).pipe((0,d.U)(e=>e))}}return c.\u0275fac=function(e){return new(e||c)(f.LFG(g.eN))},c.\u0275prov=f.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()}}]);