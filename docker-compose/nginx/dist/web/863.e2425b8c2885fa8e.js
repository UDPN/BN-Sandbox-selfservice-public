"use strict";(self.webpackChunkudpn_b=self.webpackChunkudpn_b||[]).push([[863],{8863:(W,b,c)=>{c.r(b),c.d(b,{AccountLinkBusinessModule:()=>G});var h=c(9808),a=c(3075),v=c(88),_=c(4521),n=c(5e3);let f=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=n.Xpm({type:i,selectors:[["app-account-link-business"]],decls:1,vars:0,template:function(t,e){1&t&&n._UZ(0,"router-outlet")},directives:[_.lC],encapsulation:2}),i})();var u=c(8746),l=c(3640),T=c(9727),g=c(4004);let p=(()=>{class i{}return i.list="v1/udpn/processing/business/account/bind/manage/searchs",i.add="v1/udpn/processing/business/account/bind/manage/save",i.edit="v1/udpn/processing/business/account/bind/manage/edit",i.unbind="v1/udpn/processing/business/account/bind/manage/delete",i})();var x=c(520);let C=(()=>{class i{constructor(t){this.http=t}list(t){return this.http.post(p.list,{businessAccount:t.businessAccount||"",did:t.did||"",inPage:t.inPage||{pageSize:5,pageNum:1}}).pipe((0,g.U)(o=>o))}add(t){return this.http.post(p.add,{businessAccount:t.businessAccount||"",did:t.did||""}).pipe((0,g.U)(o=>o))}edit(t){return this.http.post(p.edit,{bindingId:t.bindingId||"",businessAccount:t.businessAccount||"",did:t.did||""}).pipe((0,g.U)(o=>o))}unbind(t){return this.http.post(p.unbind,{bindingId:t.bindingId||""}).pipe((0,g.U)(o=>o))}}return i.\u0275fac=function(t){return new(t||i)(n.LFG(x.eN))},i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var z=c(1758),L=c(7484),m=c(4546),Z=c(1894),O=c(1047),y=c(6042),M=c(2643),q=c(2683),d=c(939),k=c(5737);function S(i,s){1&i&&(n.TgZ(0,"a"),n._UZ(1,"img",27),n.qZA())}function P(i,s){1&i&&(n.ynx(0),n._uU(1,"The Business Account is required"),n.BQk())}function U(i,s){1&i&&n.YNc(0,P,2,0,"ng-container",36),2&i&&n.Q6J("ngIf",s.$implicit.hasError("required"))}function I(i,s){1&i&&(n.ynx(0),n._uU(1,"The DID is required"),n.BQk())}function B(i,s){1&i&&n.YNc(0,I,2,0,"ng-container",36),2&i&&n.Q6J("ngIf",s.$implicit.hasError("required"))}function F(i,s){if(1&i&&(n.TgZ(0,"div",28),n.TgZ(1,"p"),n._uU(2,"To link your business account to an existing digital currency account, enter your business account and DID."),n.qZA(),n.TgZ(3,"form",29),n.TgZ(4,"nz-form-item"),n.TgZ(5,"nz-form-label",30),n._uU(6,"Business Account"),n.qZA(),n.TgZ(7,"nz-form-control",31),n._UZ(8,"input",32),n.YNc(9,U,1,1,"ng-template",null,33,n.W1O),n.qZA(),n.qZA(),n.TgZ(11,"nz-form-item"),n.TgZ(12,"nz-form-label",30),n._uU(13,"DID"),n.qZA(),n.TgZ(14,"nz-form-control",31),n._UZ(15,"input",34),n.YNc(16,B,1,1,"ng-template",null,35,n.W1O),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&i){const t=n.MAs(10),e=n.MAs(17),o=n.oxw();n.xp6(3),n.Q6J("formGroup",o.validateForm),n.xp6(2),n.Q6J("nzSm",9)("nzXs",24)("nzNoColon",!0),n.xp6(2),n.Q6J("nzSm",9)("nzXs",24)("nzErrorTip",t),n.xp6(5),n.Q6J("nzSm",9)("nzXs",24)("nzNoColon",!0),n.xp6(2),n.Q6J("nzSm",9)("nzXs",24)("nzErrorTip",e)}}function J(i,s){if(1&i){const t=n.EpF();n.TgZ(0,"div"),n.TgZ(1,"button",37),n.NdJ("click",function(){return n.CHM(t),n.oxw().handleCancel()}),n._uU(2," Cancel "),n.qZA(),n.TgZ(3,"button",38),n.NdJ("click",function(){return n.CHM(t),n.oxw().handleOk()}),n._uU(4," Confirm "),n.qZA(),n.qZA()}if(2&i){const t=n.oxw();n.xp6(3),n.Q6J("nzLoading",t.loading)("disabled",!t.validateForm.valid)}}const N=function(i,s,t){return{"border-top":i,height:s,"line-height":t}};function Q(i,s){if(1&i&&(n.TgZ(0,"div"),n.TgZ(1,"span",44),n._uU(2),n.qZA(),n.qZA()),2&i){const t=s.$implicit;n.Akn(n.kEZ(3,N,0==s.index?"0":"1px solid #f0f0f0",50*t.currencyAccountList.length+"px",50*t.currencyAccountList.length+"px")),n.xp6(2),n.Oqu(t.currencyType)}}const D=function(i){return{"border-top":i,height:"50px","line-height":"50px"}};function V(i,s){if(1&i&&(n.TgZ(0,"div"),n.TgZ(1,"span",44),n._uU(2),n.qZA(),n.qZA()),2&i){const t=s.$implicit,e=s.index,o=n.oxw().index;n.Akn(n.VKq(3,D,0==e&&0==o?"0":"1px solid #f0f0f0")),n.xp6(2),n.Oqu(t)}}function Y(i,s){if(1&i&&(n.TgZ(0,"div"),n.YNc(1,V,3,5,"div",40),n.qZA()),2&i){const t=s.$implicit;n.xp6(1),n.Q6J("ngForOf",t.currencyAccountList)}}function E(i,s){if(1&i){const t=n.EpF();n.ynx(0),n.TgZ(1,"tr"),n.TgZ(2,"td"),n._uU(3),n.qZA(),n.TgZ(4,"td"),n._uU(5),n.qZA(),n.TgZ(6,"td",39),n.YNc(7,Q,3,7,"div",40),n.qZA(),n.TgZ(8,"td",39),n.YNc(9,Y,2,1,"div",25),n.qZA(),n.TgZ(10,"td"),n.TgZ(11,"a",41),n.NdJ("click",function(){const r=n.CHM(t).$implicit;return n.oxw().showModal("edit",r)}),n._uU(12,"Edit"),n.qZA(),n.TgZ(13,"span",42),n._UZ(14,"nz-divider",43),n.qZA(),n.TgZ(15,"a",41),n.NdJ("click",function(){const r=n.CHM(t).$implicit;return n.oxw().unbind(r.bindingId)}),n._uU(16,"Unbind"),n.qZA(),n.qZA(),n.qZA(),n.BQk()}if(2&i){const t=s.$implicit;n.xp6(3),n.Oqu(t.businessAccount),n.xp6(2),n.Oqu(t.did),n.xp6(2),n.Q6J("ngForOf",t.outBusinessAccountBindManageSearchsSubList),n.xp6(2),n.Q6J("ngForOf",t.outBusinessAccountBindManageSearchsSubList)}}let A=(()=>{class i{constructor(t,e,o,r){this.formBuilder=t,this.modal=e,this.nzMessageService=o,this.accountLinkBusinessService=r,this.total=1,this.loading=!1,this.isClick=!1,this.pageSize=5,this.pageIndex=1,this.isVisible=!1,this.isOkLoading=!1,this.type="add",this.isLoading=!1,this.bindingId="",this.listOfData=[]}ngOnInit(){this.searchForm=this.formBuilder.group({businessAccount:[""],did:[""]}),this.validateForm=this.formBuilder.group({businessAccount:["",[a.kI.required]],did:["",[a.kI.required]]}),this.getList()}changePageIndex(t){const e={pageSize:5,pageNum:t};this.pageIndex=t,this.getList({businessAccount:this.searchForm.get("businessAccount").value,did:this.searchForm.get("did").value,inPage:e})}showModal(t,e){this.isVisible=!0,this.type=t,"edit"===this.type&&(this.validateForm.get("did").setValue(e.did),this.validateForm.get("businessAccount").setValue(e.businessAccount),this.bindingId=e.bindingId)}handleOk(){this.loading=!0,"add"===this.type?this.addSubscription=this.accountLinkBusinessService.add(this.validateForm.value).pipe((0,u.x)(()=>this.loading=!1)).subscribe(t=>{0===t.code&&this.nzMessageService.success("Add successfully!"),this.validateForm.reset(),this.isVisible=!1,this.changePageIndex(this.pageIndex)}):this.editSubscription=this.accountLinkBusinessService.edit({bindingId:this.bindingId,businessAccount:this.validateForm.get("businessAccount").value,did:this.validateForm.get("did").value}).pipe((0,u.x)(()=>this.loading=!1)).subscribe(t=>{0===t.code&&(this.nzMessageService.success("Edit successfully!"),this.validateForm.reset()),this.isVisible=!1,this.changePageIndex(this.pageIndex)})}handleCancel(){this.isVisible=!1,this.validateForm.reset()}resetForm(){this.searchForm.reset(),this.changePageIndex(this.pageIndex=1)}onSearch(){this.getList(this.searchForm.value)}unbind(t){this.isOkLoading=!0,this.confirmModal=this.modal.confirm({nzTitle:"Are you sure you want to Unbind ?",nzContent:"",nzOnOk:()=>this.unbindSubscription=this.accountLinkBusinessService.unbind({bindingId:t}).pipe((0,u.x)(()=>this.isOkLoading=!1)).subscribe(e=>{0===e.code&&this.nzMessageService.success("Unbind successfully!"),this.isVisible=!1,this.changePageIndex(this.pageIndex=1)})})}getList(t={}){this.isLoading=!0,this.listSubscription=this.accountLinkBusinessService.list(t).pipe((0,u.x)(()=>this.isLoading=!1)).subscribe(e=>{0===e.code&&(this.listOfData=e.data,this.total=e.resultPageInfo.total)})}ngOnDestroy(){var t,e,o,r;null===(t=this.listSubscription)||void 0===t||t.unsubscribe(),null===(e=this.addSubscription)||void 0===e||e.unsubscribe(),null===(o=this.editSubscription)||void 0===o||o.unsubscribe(),null===(r=this.unbindSubscription)||void 0===r||r.unsubscribe()}}return i.\u0275fac=function(t){return new(t||i)(n.Y36(a.qu),n.Y36(l.Sf),n.Y36(T.dD),n.Y36(C))},i.\u0275cmp=n.Xpm({type:i,selectors:[["app-list"]],decls:62,vars:17,consts:[[1,"business"],[1,"ctx-titles"],[1,"font-semibold"],[1,"inner-content"],[1,"business-tool","md:text-sm","xl:text-sm","nzXXl:text-base"],["nzTitle","Query Accounts",3,"nzExtra","nzBordered"],["nz-form","","nzLayout","vertical",3,"formGroup"],["nz-row","",3,"nzGutter"],["nz-col","",3,"nzSpan"],["nz-input","","placeholder","","formControlName","businessAccount"],["nz-input","","placeholder","","formControlName","did"],["nz-col","",1,"business-search",3,"nzSpan"],["nz-button","",3,"nzType","click"],["nz-button","","nzType","link",3,"click"],[1,"business-reset"],["extraTemplate",""],[1,"business-table"],[1,"business-add"],["nz-button","","nzGhost","",3,"nzType","click"],["nzTitle","Account binding","nzCentered","true",3,"nzVisible","nzWidth","nzVisibleChange","nzOnCancel"],["class","bind-content",4,"nzModalContent"],[4,"nzModalFooter"],["nzBordered","",1,"business-card",3,"nzData","nzTotal","nzPageSize","nzPageIndex","nzFrontPagination","nzPageIndexChange"],["colSpanTable",""],[1,"table-th"],[4,"ngFor","ngForOf"],[1,"divider"],["src","../../../../assets/images/API (1).png","alt","",1,"w-14"],[1,"bind-content"],["nz-form","",3,"formGroup"],["nzRequired","",3,"nzSm","nzXs","nzNoColon"],["nzHasFeedback","","nzValidatingTip","Validating...",3,"nzSm","nzXs","nzErrorTip"],["nz-input","","maxlength","50","formControlName","businessAccount"],["businessAccount",""],["nz-input","","formControlName","did"],["did",""],[4,"ngIf"],["nz-button","","nzType","default",3,"click"],["nz-button","","nzType","primary",3,"nzLoading","disabled","click"],[1,"rowspan-td"],[3,"style",4,"ngFor","ngForOf"],[1,"business-action",3,"click"],[1,"business-dividers"],["nzType","vertical"],[2,"margin-left","16px"]],template:function(t,e){if(1&t&&(n.TgZ(0,"div",0),n.TgZ(1,"div",1),n.TgZ(2,"nz-breadcrumb"),n.TgZ(3,"nz-breadcrumb-item"),n._uU(4,"Account Management"),n.qZA(),n.TgZ(5,"nz-breadcrumb-item",2),n._uU(6,"Link UDPN DID to Business Account"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(7,"div",3),n.TgZ(8,"h3",4),n._uU(9," Here, you can link your business account to an existing digital currency account. "),n.qZA(),n.TgZ(10,"nz-card",5),n.TgZ(11,"form",6),n.TgZ(12,"div",7),n.TgZ(13,"div",8),n.TgZ(14,"nz-form-item"),n.TgZ(15,"nz-form-label"),n._uU(16,"Business Account"),n.qZA(),n.TgZ(17,"nz-form-control"),n._UZ(18,"input",9),n.qZA(),n.qZA(),n.qZA(),n.TgZ(19,"div",8),n.TgZ(20,"nz-form-item"),n.TgZ(21,"nz-form-label"),n._uU(22,"DID"),n.qZA(),n.TgZ(23,"nz-form-control"),n._UZ(24,"input",10),n.qZA(),n.qZA(),n.qZA(),n.TgZ(25,"div",11),n.TgZ(26,"nz-form-item"),n._UZ(27,"nz-form-label"),n.TgZ(28,"nz-form-control"),n.TgZ(29,"button",12),n.NdJ("click",function(){return e.onSearch()}),n._uU(30," Query "),n.qZA(),n.TgZ(31,"a",13),n.NdJ("click",function(){return e.resetForm()}),n.TgZ(32,"span",14),n._uU(33,"Reset"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.YNc(34,S,2,0,"ng-template",null,15,n.W1O),n.TgZ(36,"div",16),n.TgZ(37,"div",17),n.ynx(38),n.TgZ(39,"button",18),n.NdJ("click",function(){return e.showModal("add","")}),n._uU(40," Add "),n.qZA(),n.TgZ(41,"nz-modal",19),n.NdJ("nzVisibleChange",function(r){return e.isVisible=r})("nzOnCancel",function(){return e.handleCancel()}),n.YNc(42,F,18,13,"div",20),n.YNc(43,J,5,2,"div",21),n.qZA(),n.BQk(),n.qZA(),n.TgZ(44,"nz-table",22,23),n.NdJ("nzPageIndexChange",function(r){return e.changePageIndex(r)}),n.TgZ(46,"thead"),n.TgZ(47,"tr"),n.TgZ(48,"th"),n._uU(49,"Business account"),n.qZA(),n.TgZ(50,"th"),n._uU(51,"DID (linked to business account)"),n.qZA(),n.TgZ(52,"th",24),n._uU(53,"Currency type"),n.qZA(),n.TgZ(54,"th"),n._uU(55,"Currency account (linked to DID)"),n.qZA(),n.TgZ(56,"th"),n._uU(57,"Action"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(58,"tbody"),n.YNc(59,E,17,4,"ng-container",25),n.qZA(),n.qZA(),n.qZA(),n.TgZ(60,"div",26),n._UZ(61,"nz-divider"),n.qZA(),n.qZA(),n.qZA()),2&t){const o=n.MAs(35),r=n.MAs(45);n.xp6(10),n.Q6J("nzExtra",o)("nzBordered",!1),n.xp6(1),n.Q6J("formGroup",e.searchForm),n.xp6(1),n.Q6J("nzGutter",24),n.xp6(1),n.Q6J("nzSpan",8),n.xp6(6),n.Q6J("nzSpan",8),n.xp6(6),n.Q6J("nzSpan",8),n.xp6(4),n.Q6J("nzType","primary"),n.xp6(10),n.Q6J("nzType","primary"),n.xp6(2),n.Q6J("nzVisible",e.isVisible)("nzWidth",800),n.xp6(3),n.Q6J("nzData",e.listOfData)("nzTotal",e.total)("nzPageSize",e.pageSize)("nzPageIndex",e.pageIndex)("nzFrontPagination",!1),n.xp6(15),n.Q6J("ngForOf",r.data)}},directives:[z.Dg,z.MO,L.bd,a._Y,a.JL,m.Lr,a.sg,Z.SK,Z.t3,m.Nx,m.iK,m.Fd,O.Zp,a.Fj,a.JJ,a.u,y.ix,M.dQ,q.w,l.du,l.Hf,a.nD,h.O5,l.Uh,d.N8,d.Om,d.$Z,d.Uo,d._C,d.p0,h.sg,k.g],styles:[".business[_ngcontent-%COMP%]{height:100%}.inner-content[_ngcontent-%COMP%]{padding:24px;background:#fff}.title-color[_ngcontent-%COMP%]{margin-left:5px;color:#3c5686}.business-tool[_ngcontent-%COMP%]{margin-left:24px;color:#3c5686}.business-title[_ngcontent-%COMP%]{padding:0!important}.table-col[_ngcontent-%COMP%]{margin-bottom:5px}.aaa[_ngcontent-%COMP%]{height:100%}.table-content[_ngcontent-%COMP%]{margin:0!important}.table-td[_ngcontent-%COMP%]{padding:0!important}button[_ngcontent-%COMP%]{margin-left:8px}.business-reset[_ngcontent-%COMP%]{-webkit-text-decoration-line:underline!important;text-decoration-line:underline!important}.business-card[_ngcontent-%COMP%]{margin-bottom:80px}.business-search[_ngcontent-%COMP%]{text-align:right}.business-search[_ngcontent-%COMP%]   .ant-card-head[_ngcontent-%COMP%]{padding:0!important}.business-divider[_ngcontent-%COMP%]   .ant-divider-horizontal[_ngcontent-%COMP%]{margin:0!important}.business-table[_ngcontent-%COMP%]{margin:30px 24px 0}.business-add[_ngcontent-%COMP%]{margin:10px 0}.business-action[_ngcontent-%COMP%]{font-weight:600}.bind-content[_ngcontent-%COMP%]{margin-top:15px}.bind-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#3c5686;text-align:center;margin-bottom:30px}.business-dividers[_ngcontent-%COMP%]   .ant-divider-vertical[_ngcontent-%COMP%]{margin:0 15px!important}.rowspan-td[_ngcontent-%COMP%]{padding:0}"]}),i})();const X=[{path:"",component:f,children:[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:A}]}];let $=(()=>{class i{}return i.more=[f,A],i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=n.oAB({type:i}),i.\u0275inj=n.cJS({imports:[[_.Bz.forChild(X)],_.Bz]}),i})(),G=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=n.oAB({type:i}),i.\u0275inj=n.cJS({imports:[[h.ez,$,a.u5,a.UX,v.m]]}),i})()}}]);